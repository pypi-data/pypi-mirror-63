---
properties:

  ## TAB ONE
  controle_existif_require:
    process: callback_tab1.py
    update_scene_3d: updatde3dscene_1.py
    title: Controle If/Req.
    type: object
    description: this is the first tab...
    properties:

      controle:   
        title: Controle Existif
        type: object
        description: >
              <small> 1 verifier que ce widget peut afficher ou effacer
              instantanement un modele en dessous, un
              onglet escamotable juste apres, deux modeles supplementaires
              dans l'onglet "ou exclusif", une colonne supplementaire
              dans l'onglet "multiple"
        properties:
          controle_ei:
            default: false
            title: Existif on/off
            type: boolean

      expert_model:
        title: Modele expert
        type: object
        expert: True
        description: >
          this model only shows on demand
        properties:
          a1:
            default: 1
            title: a1
            type: number
          a2:
            default: 1
            title: a2
            type: number
          a3:
            default: 1
            title: a3
            type: number

        
      source_req_patch:
        title: Controle require patches
        type: object
        description: >
          <tiny> le nombre de patches controle la liste.
          La liste controle le multiple avec dependance de l'ongle "Multiple"
        properties:
          npatches:
            default: 4
            exclusiveMaximum: true
            exclusiveMinimum: true
            maximum: 200
            minimum: 0
            title: Nombre patches
            type: integer
          list_patches:
            type: array
            title : Liste des patches
            state : disabled
            items : 
              type : string
              default: single_patch
            # default : [patch_in, patch_wall1, patch_wall2, patch_out]
          choice_patches:
            title: Choix patches
            type: string
            ot_dyn_choice: list_patches
        
    
  ## SECOND TAB
  data3d:
    title: Visu3D
    script: process_data3d.py
    type: object
    properties:

      coque1:
        title: Shell Nb. 1
        type: object
        description: First parametric shell
        properties:
          ngrid:
            default: 4
            maximum: 10
            minimum: 2
            title: grid samples
            type: integer
          rad1:
            default: 0.1
            exclusiveMinimum: true
            minimum: 0
            title: rayon 1
            type: number
          rad2:
            default: 0.15
            exclusiveMinimum: true
            minimum: 0
            title: rayon 2
            type: number
          t1:
            default: -30
            exclusiveMinimum: true
            maximum: 180
            minimum: -180
            title: angle 1 (deg)
            type: number
          t2:
            default: 30
            exclusiveMaximum: true
            exclusiveMinimum: true
            maximum: 180
            minimum: -180
            title: angle 2 (deg)
            type: number
        

      coque2:
        title: Shell Nb. 1
        type: object
        description: Second parametric shell
        properties:
          ngrid:
            default: 6
            maximum: 10
            minimum: 2
            title: grid samples
            type: integer
          rad1:
            default: 0.2
            exclusiveMinimum: true
            minimum: 0
            title: rayon 1
            type: number
          rad2:
            default: 0.25
            exclusiveMinimum: true
            minimum: 0
            title: rayon 2
            type: number
          t1:
            default: 0
            exclusiveMinimum: true
            maximum: 180
            minimum: -180
            title: angle 1 (deg)
            type: number
          t2:
            default: 90
            exclusiveMaximum: true
            exclusiveMinimum: true
            maximum: 180
            minimum: -180
            title: angle 2 (deg)
            type: number
   
  ## THird tab process entries
  entries:
    script: process_entries.py
    title: Entries
    type: object
    properties:

      choix:
        description: >
          <bold> verifier l'affichage des choix, ainsi que la presence
          e titres dans le premier choix
        title: Choices
        type: object
        properties:
          choix1:
            default: item1
            enum:
            - item1
            - item2
            - item3
            enum_titles:
            - item1
            - item2
            - item3
            title: Choix 3 items
            type: string
          choix2:
            default: item1
            enum:
            - item1
            - item2
            - item3
            - item4
            enum_titles:
            - Titre 1
            - Titre 2
            - Titre 3
            - Titre 4
            title: Choix 4 items
            type: string
        
      comment:
        title: Comments
        type: object
        description: >
          <italic> 4 verifier l'affichage des commentaires.
          5 verifier qu'au \"process\" le texte du haut est reproduit dans le texte
          du bas.
        properties:
          mod_comment:
            title: bossa nova
            type: string
            default: Lorem ipsum sic hamet
            height: 20
            ot_type: comment
          readonly_comment:
            title: fdo
            type: string
            default: Lorem ipsum sic hamet
            state: disabled
            ot_type: comment
      ent:
        title: Simple entries
        type: object
        description: >
             1 verifier l'affichage et les tests automatiques des
              entrees simples.2 verifier l'entree \"cluster\", possibilite
              d'ajouter et d'enlever des elements. "
        properties:
          ent0:
            default: false
            title: Essai onoff
            type: boolean
          ent1:
            default: 1.3
            exclusiveMaximum: true
            exclusiveMinimum: true
            maximum: 2
            minimum: 1
            title: Essai double_gt1_lt2
            type: number
          ent2:
            default: 0
            maximum: 1
            minimum: -1
            title: Essai integer_ge-1_le1
            type: integer
          ents0:
            default: dummy
            title: Essai string enabled
            type: string
            #state: disabled
          ents1:
            default: dummy
            title: Essai string disabled
            type: string
            state: disabled
          file4:
            ot_type: file
            ot_filter:
            - h5
            title: Choix fichier (*.h5)
            type: string
            default: any.h5
          file5:
            ot_type: file
            ot_filter: directory
            title: Choix repertoire
            type: string
            default: anyfolder

  multiple:
    order: '40'
    properties:
      modele_desc:
        properties:
          desc:
            default: "\n        Le widget suivant est un \"multiple\" avec dependance.
              Verifier que :\n        [item= 1 on peut modifier la mise en donnee
              de chaque ligne]\n        [item= 2 reordonner les lignes en cliquant
              sur les colonnes]\n        [item= 3 le existif controle bien le choix
              des C.L. liquides]\n        [item= 4 on peut renommer chaque element
              de la liste]\n        [item= 5 on peut copier/coller chaque element
              de la liste]\n        \n        \n    "
            ot_type: desc
            title: ''
            type: string
        title: 'Description '
        type: object
      mul_cont:
        items:
          properties:
            name: 
              default: stator_dummy
              type: string
              state: disabled
            bcliq:
              type: object
              oneOf:
              - type: object
                required: [inlet]
                properties:
                  inlet:
                    properties:
                      desc:
                        default: " Inlet boundary "
                        ot_type: desc
                        title: ''
                        type: string
                      velocity:
                        title: velocity
                        type: array
                        items:
                          type: number
                          default: 0.0
                    title: inlet
                    type: object
              - type: object
                required: [outlet]
                properties:
                  outlet:
                    properties:
                      desc:
                        default: "Outlet boundary"
                        ot_type: desc
                        title: ''
                        type: string
                      pressure:
                        default: 101325
                        exclusiveMinimum: true
                        minimum: 0
                        title: pressure
                        type: number
                    title: outlet
                    type: object
              - type: object
                required: [wall]
                properties:
                  wall:
                    properties:
                      desc:
                        default: "Wall boundary"
                        ot_type: desc
                        title: ''
                        type: string
                    title: wall
                    type: object
                required:
                - wall
              title: B.C. liquid
            bnd_gas:
              type: object
              oneOf:
              - type: object
                required: [inlet]
                properties:
                  inlet:
                    properties:
                      desc:
                        default: "Inlet boundary"
                        ot_type: desc
                        title: ''
                        type: string
                      pressure:
                        default: 101325
                        title: pressure
                        type: number
                      tempoerature:
                        default: 300
                        title: tempoerature
                        type: number
                      velocity:
                        title: velocity
                        type: array
                        items:
                          type: number
                          default: 0.0
                    title: inlet
                    type: object
              - type: object
                required: [outlet]
                properties:
                  outlet:
                    properties:
                      desc:
                        default: "Outlet boundary"
                        ot_type: desc
                        title: ''
                        type: string
                      pressure:
                        default: 101325
                        exclusiveMinimum: true
                        minimum: 0
                        title: pressure
                        type: number
                    title: outlet
                    type: object
              - type: object
                required: [wall]
                properties:
                  wall:
                    properties:
                      desc:
                        default: "Wall boundary"
                        ot_type: desc
                        title: ''
                        type: string
                    title: wall
                    type: object
                required:
                - wall
            param-nb:
              default: 42
              minimum: 0
              title: param-order
              type: integer
            name:
              default: unnamed
              type: string
          type: object
          title: Boundary cond.
        name: mul_cont
        ot_require: list_patches
        type: array
      status_multiple:
        enum:
        - -1
        - 0
        - 1
        default: 0
        enum_titles:
        - Statut est faux (vaut -1)
        - Statut est inconnu (vaut 0)
        - Statut est vrai (vaut 1)
        ot_type: status
        type: integer
    script: process_multiple.py
    title: Multiple
    type: object
  multiple2:
    order: '41'
    properties:
      modele_desc:
        properties:
          desc:
            default: "\n        Le widget suivant est un \"multiple\" sans  dependance.
              Verifier que :\n        [item= 1 on peut modifier le nom de chaque item]\n
              \       [item= 2 on peut ajouter et retirer des items]\n       \n        \n
              \       \n    "
            ot_type: desc
            title: ''
            type: string
        title: 'Description '
        type: object
      mul_cont:
        items:
          properties:
            param-order:
              default: 1
              minimum: 0
              title: param-order
              type: integer
            param_onoff:
              default: false
              ot_type: onoff
              title: param_onoff
              type: boolean
            name:
              title: name_id
              type: string
              default: unnamed
          type: object
          title: Boundary cond.
        type: array
    title: Multiple Independent
    type: object
  ouexclusif:
    order: '30'
    properties:
      modele_desc:
        properties:
          desc:
            default: "\n        Le widget suivant est un \"ou exclusif\". Verifier
              que :\n        [item= 1 on peut changer de modele]\n        [item= 2
              le groupement des options est effectue]\n        [item= 3 le existif
              controle bien les modeles A3, B3, et 4 ]\n        [item= 4 si le modele
              4 est selectionne, et que le existif le rend inaccessible, le XOR change
              automatiquement de choix.]    \n    "
            ot_type: desc
            title: ''
            type: string
        title: 'Description '
        type: object
      ouex_mod:
        type: object
        oneOf:
        - type: object
          required: ["modele_0"]
          properties:
            modele_0:
              properties:
                desc:
                  default: "\n            Modele zero\n        "
                  ot_type: desc
                  title: ''
                  type: string
              title: Modele 0
              type: object
        - type: object
          required: ["modele_a_1"]
          properties:
            modele_a_1:
              properties:
                desc:
                  default: "\n            Modele aaa un\n        "
                  ot_type: desc
                  title: ''
                  type: string
                toto1:
                  default: 300
                  exclusiveMinimum: true
                  minimum: 0
                  title: Entry
                  type: number
              title: Modele A 1 (param)
              type: object
        - type: object
          required: ["modele_a_2"]
          properties:
            modele_a_2:
              properties:
                desc:
                  default: "\n            Modele aaa deux\n        "
                  ot_type: desc
                  title: ''
                  type: string
                sel2:
                  ot_type: selection
                  title: 'Selection '
                  type: string
                  default: dummy
              title: Modele A 2 (selection)
              type: object
        - type: object
          required: ["modele_a_3"]
          properties:
            modele_a_3:
              existif:
                node: controle_ei
                operator: "=="
                value: true
              properties:
                choice5:
                  default: b
                  enum:
                  - a
                  - b
                  - c
                  enum_titles:
                  - a
                  - b
                  - c
                  title: 'Choice '
                  type: string
                desc:
                  default: "\n            Modele aaa trois\n        "
                  ot_type: desc
                  title: ''
                  type: string
              title: Modele A 3 (choice)
              type: object
        - type: object
          required: ["modele_b_1"]
          properties:
            modele_b_1:
              properties:
                desc:
                  default: "\n            Modele bbb un\n        "
                  ot_type: desc
                  title: ''
                  type: string
                p1:
                  default: 0
                  title: 'Param normal '
                  type: integer
                p2:
                  default: 0
                  title: 'Param si controle_ei ==1 '
                  type: integer
              title: Modele B 1 (existif)
              type: object

        - type: object
          required: ["modele_b_2"]
          properties:
            modele_b_2:
              properties:
                desc:
                  default: "\n            Modele bbb deux\n        "
                  ot_type: desc
                  title: ''
                  type: string
                toto3:
                  title: Entry
                  type: array
                  items:
                    type: number
                    default: 43.0
              title: 'Modele B 2 (list) '
              type: object
        title: Ou exclusif
    script: process_ouexclusif.py
    title: Ou exclusif
    type: object
title: Example complex
type: object
