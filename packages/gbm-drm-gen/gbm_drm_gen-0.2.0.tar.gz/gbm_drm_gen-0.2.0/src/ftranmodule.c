/* File: ftranmodule.c
 * This file is auto-generated with f2py (version:2).
 * f2py is a Fortran to Python Interface Generator (FPIG), Second Edition,
 * written by Pearu Peterson <pearu@cens.ioc.ee>.
 * Generation date: Mon Dec  9 07:22:59 2019
 * Do not edit this file directly unless you know what you are doing!!!
 */

#ifdef __cplusplus
extern "C" {
#endif

/*********************** See f2py2e/cfuncs.py: includes ***********************/
#include "Python.h"
#include <stdarg.h>
#include "fortranobject.h"
#include <math.h>

/**************** See f2py2e/rules.py: mod_rules['modulebody'] ****************/
static PyObject *ftran_error;
static PyObject *ftran_module;

/*********************** See f2py2e/cfuncs.py: typedefs ***********************/
/*need_typedefs*/

/****************** See f2py2e/cfuncs.py: typedefs_generated ******************/
/*need_typedefs_generated*/

/********************** See f2py2e/cfuncs.py: cppmacros **********************/
#if defined(PREPEND_FORTRAN)
#if defined(NO_APPEND_FORTRAN)
#if defined(UPPERCASE_FORTRAN)
#define F_FUNC(f,F) _##F
#else
#define F_FUNC(f,F) _##f
#endif
#else
#if defined(UPPERCASE_FORTRAN)
#define F_FUNC(f,F) _##F##_
#else
#define F_FUNC(f,F) _##f##_
#endif
#endif
#else
#if defined(NO_APPEND_FORTRAN)
#if defined(UPPERCASE_FORTRAN)
#define F_FUNC(f,F) F
#else
#define F_FUNC(f,F) f
#endif
#else
#if defined(UPPERCASE_FORTRAN)
#define F_FUNC(f,F) F##_
#else
#define F_FUNC(f,F) f##_
#endif
#endif
#endif
#if defined(UNDERSCORE_G77)
#define F_FUNC_US(f,F) F_FUNC(f##_,F##_)
#else
#define F_FUNC_US(f,F) F_FUNC(f,F)
#endif

#define rank(var) var ## _Rank
#define shape(var,dim) var ## _Dims[dim]
#define old_rank(var) (PyArray_NDIM((PyArrayObject *)(capi_ ## var ## _tmp)))
#define old_shape(var,dim) PyArray_DIM(((PyArrayObject *)(capi_ ## var ## _tmp)),dim)
#define fshape(var,dim) shape(var,rank(var)-dim-1)
#define len(var) shape(var,0)
#define flen(var) fshape(var,0)
#define old_size(var) PyArray_SIZE((PyArrayObject *)(capi_ ## var ## _tmp))
/* #define index(i) capi_i ## i */
#define slen(var) capi_ ## var ## _len
#define size(var, ...) f2py_size((PyArrayObject *)(capi_ ## var ## _tmp), ## __VA_ARGS__, -1)

#ifdef DEBUGCFUNCS
#define CFUNCSMESS(mess) fprintf(stderr,"debug-capi:"mess);
#define CFUNCSMESSPY(mess,obj) CFUNCSMESS(mess) \
    PyObject_Print((PyObject *)obj,stderr,Py_PRINT_RAW);\
    fprintf(stderr,"\n");
#else
#define CFUNCSMESS(mess)
#define CFUNCSMESSPY(mess,obj)
#endif

#ifndef max
#define max(a,b) ((a > b) ? (a) : (b))
#endif
#ifndef min
#define min(a,b) ((a < b) ? (a) : (b))
#endif
#ifndef MAX
#define MAX(a,b) ((a > b) ? (a) : (b))
#endif
#ifndef MIN
#define MIN(a,b) ((a < b) ? (a) : (b))
#endif

#if defined(PREPEND_FORTRAN)
#if defined(NO_APPEND_FORTRAN)
#if defined(UPPERCASE_FORTRAN)
#define F_WRAPPEDFUNC(f,F) _F2PYWRAP##F
#else
#define F_WRAPPEDFUNC(f,F) _f2pywrap##f
#endif
#else
#if defined(UPPERCASE_FORTRAN)
#define F_WRAPPEDFUNC(f,F) _F2PYWRAP##F##_
#else
#define F_WRAPPEDFUNC(f,F) _f2pywrap##f##_
#endif
#endif
#else
#if defined(NO_APPEND_FORTRAN)
#if defined(UPPERCASE_FORTRAN)
#define F_WRAPPEDFUNC(f,F) F2PYWRAP##F
#else
#define F_WRAPPEDFUNC(f,F) f2pywrap##f
#endif
#else
#if defined(UPPERCASE_FORTRAN)
#define F_WRAPPEDFUNC(f,F) F2PYWRAP##F##_
#else
#define F_WRAPPEDFUNC(f,F) f2pywrap##f##_
#endif
#endif
#endif
#if defined(UNDERSCORE_G77)
#define F_WRAPPEDFUNC_US(f,F) F_WRAPPEDFUNC(f##_,F##_)
#else
#define F_WRAPPEDFUNC_US(f,F) F_WRAPPEDFUNC(f,F)
#endif

#define CHECKSCALAR(check,tcheck,name,show,var)\
    if (!(check)) {\
        char errstring[256];\
        sprintf(errstring, "%s: "show, "("tcheck") failed for "name, var);\
        PyErr_SetString(ftran_error,errstring);\
        /*goto capi_fail;*/\
    } else 

/************************ See f2py2e/cfuncs.py: cfuncs ************************/
static int double_from_pyobj(double* v,PyObject *obj,const char *errmess) {
    PyObject* tmp = NULL;
    if (PyFloat_Check(obj)) {
#ifdef __sgi
        *v = PyFloat_AsDouble(obj);
#else
        *v = PyFloat_AS_DOUBLE(obj);
#endif
        return 1;
    }
    tmp = PyNumber_Float(obj);
    if (tmp) {
#ifdef __sgi
        *v = PyFloat_AsDouble(tmp);
#else
        *v = PyFloat_AS_DOUBLE(tmp);
#endif
        Py_DECREF(tmp);
        return 1;
    }
    if (PyComplex_Check(obj))
        tmp = PyObject_GetAttrString(obj,"real");
    else if (PyString_Check(obj) || PyUnicode_Check(obj))
        /*pass*/;
    else if (PySequence_Check(obj))
        tmp = PySequence_GetItem(obj,0);
    if (tmp) {
        PyErr_Clear();
        if (double_from_pyobj(v,tmp,errmess)) {Py_DECREF(tmp); return 1;}
        Py_DECREF(tmp);
    }
    {
        PyObject* err = PyErr_Occurred();
        if (err==NULL) err = ftran_error;
        PyErr_SetString(err,errmess);
    }
    return 0;
}

static int f2py_size(PyArrayObject* var, ...)
{
  npy_int sz = 0;
  npy_int dim;
  npy_int rank;
  va_list argp;
  va_start(argp, var);
  dim = va_arg(argp, npy_int);
  if (dim==-1)
    {
      sz = PyArray_SIZE(var);
    }
  else
    {
      rank = PyArray_NDIM(var);
      if (dim>=1 && dim<=rank)
        sz = PyArray_DIM(var, dim-1);
      else
        fprintf(stderr, "f2py_size: 2nd argument value=%d fails to satisfy 1<=value<=%d. Result will be 0.\n", dim, rank);
    }
  va_end(argp);
  return sz;
}

static int int_from_pyobj(int* v,PyObject *obj,const char *errmess) {
    PyObject* tmp = NULL;
    if (PyInt_Check(obj)) {
        *v = (int)PyInt_AS_LONG(obj);
        return 1;
    }
    tmp = PyNumber_Int(obj);
    if (tmp) {
        *v = PyInt_AS_LONG(tmp);
        Py_DECREF(tmp);
        return 1;
    }
    if (PyComplex_Check(obj))
        tmp = PyObject_GetAttrString(obj,"real");
    else if (PyString_Check(obj) || PyUnicode_Check(obj))
        /*pass*/;
    else if (PySequence_Check(obj))
        tmp = PySequence_GetItem(obj,0);
    if (tmp) {
        PyErr_Clear();
        if (int_from_pyobj(v,tmp,errmess)) {Py_DECREF(tmp); return 1;}
        Py_DECREF(tmp);
    }
    {
        PyObject* err = PyErr_Occurred();
        if (err==NULL) err = ftran_error;
        PyErr_SetString(err,errmess);
    }
    return 0;
}

static int float_from_pyobj(float* v,PyObject *obj,const char *errmess) {
    double d=0.0;
    if (double_from_pyobj(&d,obj,errmess)) {
        *v = (float)d;
        return 1;
    }
    return 0;
}


/********************* See f2py2e/cfuncs.py: userincludes *********************/
/*need_userincludes*/

/********************* See f2py2e/capi_rules.py: usercode *********************/


/* See f2py2e/rules.py */
extern void F_FUNC(trfind,TRFIND)(int*,float*,int*,float*,float*,float*,int*,int*,int*,float*,float*,float*,int*,int*,int*);
extern void F_WRAPPEDFUNC(jrand,JRAND)(int*,int*,int*,int*,int*);
extern void F_WRAPPEDFUNC(lstptr,LSTPTR)(int*,int*,int*,int*,int*);
extern void F_WRAPPEDFUNC(store,STORE)(float*,float*);
extern void F_FUNC(geocords,GEOCORDS)(float*,float*,float*,float*,float*,float*,float*,float*);
extern void F_FUNC_US(geo_to_space,GEO_TO_SPACE)(float*,float*,float*,float*,float*,float*,float*,float*,float*,float*);
extern void F_FUNC_US(calc_sphere_dist,CALC_SPHERE_DIST)(float*,float*,float*,float*,float*);
extern void F_FUNC_US(sum_at_scat,SUM_AT_SCAT)(float*,float*,float*,float*,int*,int*,float*);
extern void F_FUNC_US(highres_ephoton_interpolator,HIGHRES_EPHOTON_INTERPOLATOR)(float*,int*,float*,int*,float*,float*,float*,int*,float*,float*,float*);
extern void F_FUNC_US(atscat_highres_ephoton_interpolator,ATSCAT_HIGHRES_EPHOTON_INTERPOLATOR)(float*,int*,float*,int*,float*,int*,float*);
extern void F_FUNC_US(echan_integrator,ECHAN_INTEGRATOR)(int*,float*,float*,float*,int*,float*,int*,float*);
/*eof externroutines*/

/******************** See f2py2e/capi_rules.py: usercode1 ********************/


/******************* See f2py2e/cb_rules.py: buildcallback *******************/
/*need_callbacks*/

/*********************** See f2py2e/rules.py: buildapi ***********************/

/*********************************** trfind ***********************************/
static char doc_f2py_rout_ftran_trfind[] = "\
b1,b2,b3,i1,i2,i3 = trfind(nst,p,n,x,y,z,list,lptr,lend)\n\nWrapper for ``trfind``.\
\n\nParameters\n----------\n"
"nst : input int\n"
"p : input rank-1 array('f') with bounds (3)\n"
"n : input int\n"
"x : input rank-1 array('f') with bounds (*)\n"
"y : input rank-1 array('f') with bounds (*)\n"
"z : input rank-1 array('f') with bounds (*)\n"
"list : input rank-1 array('i') with bounds (*)\n"
"lptr : input rank-1 array('i') with bounds (*)\n"
"lend : input rank-1 array('i') with bounds (*)\n"
"\nReturns\n-------\n"
"b1 : float\n"
"b2 : float\n"
"b3 : float\n"
"i1 : int\n"
"i2 : int\n"
"i3 : int";
/* extern void F_FUNC(trfind,TRFIND)(int*,float*,int*,float*,float*,float*,int*,int*,int*,float*,float*,float*,int*,int*,int*); */
static PyObject *f2py_rout_ftran_trfind(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(int*,float*,int*,float*,float*,float*,int*,int*,int*,float*,float*,float*,int*,int*,int*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  int nst = 0;
  PyObject *nst_capi = Py_None;
  float *p = NULL;
  npy_intp p_Dims[1] = {-1};
  const int p_Rank = 1;
  PyArrayObject *capi_p_tmp = NULL;
  int capi_p_intent = 0;
  PyObject *p_capi = Py_None;
  int n = 0;
  PyObject *n_capi = Py_None;
  float *x = NULL;
  npy_intp x_Dims[1] = {-1};
  const int x_Rank = 1;
  PyArrayObject *capi_x_tmp = NULL;
  int capi_x_intent = 0;
  PyObject *x_capi = Py_None;
  float *y = NULL;
  npy_intp y_Dims[1] = {-1};
  const int y_Rank = 1;
  PyArrayObject *capi_y_tmp = NULL;
  int capi_y_intent = 0;
  PyObject *y_capi = Py_None;
  float *z = NULL;
  npy_intp z_Dims[1] = {-1};
  const int z_Rank = 1;
  PyArrayObject *capi_z_tmp = NULL;
  int capi_z_intent = 0;
  PyObject *z_capi = Py_None;
  int *list = NULL;
  npy_intp list_Dims[1] = {-1};
  const int list_Rank = 1;
  PyArrayObject *capi_list_tmp = NULL;
  int capi_list_intent = 0;
  PyObject *list_capi = Py_None;
  int *lptr = NULL;
  npy_intp lptr_Dims[1] = {-1};
  const int lptr_Rank = 1;
  PyArrayObject *capi_lptr_tmp = NULL;
  int capi_lptr_intent = 0;
  PyObject *lptr_capi = Py_None;
  int *lend = NULL;
  npy_intp lend_Dims[1] = {-1};
  const int lend_Rank = 1;
  PyArrayObject *capi_lend_tmp = NULL;
  int capi_lend_intent = 0;
  PyObject *lend_capi = Py_None;
  float b1 = 0;
  float b2 = 0;
  float b3 = 0;
  int i1 = 0;
  int i2 = 0;
  int i3 = 0;
  static char *capi_kwlist[] = {"nst","p","n","x","y","z","list","lptr","lend",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOOOOOOO:ftran.trfind",\
    capi_kwlist,&nst_capi,&p_capi,&n_capi,&x_capi,&y_capi,&z_capi,&list_capi,&lptr_capi,&lend_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable nst */
    f2py_success = int_from_pyobj(&nst,nst_capi,"ftran.trfind() 1st argument (nst) can't be converted to int");
  if (f2py_success) {
  /* Processing variable p */
  p_Dims[0]=3;
  capi_p_intent |= F2PY_INTENT_IN;
  capi_p_tmp = array_from_pyobj(NPY_FLOAT,p_Dims,p_Rank,capi_p_intent,p_capi);
  if (capi_p_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 2nd argument `p' of ftran.trfind to C/Fortran array" );
  } else {
    p = (float *)(PyArray_DATA(capi_p_tmp));

  /* Processing variable n */
    f2py_success = int_from_pyobj(&n,n_capi,"ftran.trfind() 3rd argument (n) can't be converted to int");
  if (f2py_success) {
  /* Processing variable x */
  ;
  capi_x_intent |= F2PY_INTENT_IN;
  capi_x_tmp = array_from_pyobj(NPY_FLOAT,x_Dims,x_Rank,capi_x_intent,x_capi);
  if (capi_x_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 4th argument `x' of ftran.trfind to C/Fortran array" );
  } else {
    x = (float *)(PyArray_DATA(capi_x_tmp));

  /* Processing variable y */
  ;
  capi_y_intent |= F2PY_INTENT_IN;
  capi_y_tmp = array_from_pyobj(NPY_FLOAT,y_Dims,y_Rank,capi_y_intent,y_capi);
  if (capi_y_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 5th argument `y' of ftran.trfind to C/Fortran array" );
  } else {
    y = (float *)(PyArray_DATA(capi_y_tmp));

  /* Processing variable z */
  ;
  capi_z_intent |= F2PY_INTENT_IN;
  capi_z_tmp = array_from_pyobj(NPY_FLOAT,z_Dims,z_Rank,capi_z_intent,z_capi);
  if (capi_z_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 6th argument `z' of ftran.trfind to C/Fortran array" );
  } else {
    z = (float *)(PyArray_DATA(capi_z_tmp));

  /* Processing variable list */
  ;
  capi_list_intent |= F2PY_INTENT_IN;
  capi_list_tmp = array_from_pyobj(NPY_INT,list_Dims,list_Rank,capi_list_intent,list_capi);
  if (capi_list_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 7th argument `list' of ftran.trfind to C/Fortran array" );
  } else {
    list = (int *)(PyArray_DATA(capi_list_tmp));

  /* Processing variable lptr */
  ;
  capi_lptr_intent |= F2PY_INTENT_IN;
  capi_lptr_tmp = array_from_pyobj(NPY_INT,lptr_Dims,lptr_Rank,capi_lptr_intent,lptr_capi);
  if (capi_lptr_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 8th argument `lptr' of ftran.trfind to C/Fortran array" );
  } else {
    lptr = (int *)(PyArray_DATA(capi_lptr_tmp));

  /* Processing variable lend */
  ;
  capi_lend_intent |= F2PY_INTENT_IN;
  capi_lend_tmp = array_from_pyobj(NPY_INT,lend_Dims,lend_Rank,capi_lend_intent,lend_capi);
  if (capi_lend_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 9th argument `lend' of ftran.trfind to C/Fortran array" );
  } else {
    lend = (int *)(PyArray_DATA(capi_lend_tmp));

  /* Processing variable b1 */
  /* Processing variable b2 */
  /* Processing variable b3 */
  /* Processing variable i1 */
  /* Processing variable i2 */
  /* Processing variable i3 */
/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(&nst,p,&n,x,y,z,list,lptr,lend,&b1,&b2,&b3,&i1,&i2,&i3);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("fffiii",b1,b2,b3,i1,i2,i3);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  /* End of cleaning variable i3 */
  /* End of cleaning variable i2 */
  /* End of cleaning variable i1 */
  /* End of cleaning variable b3 */
  /* End of cleaning variable b2 */
  /* End of cleaning variable b1 */
  if((PyObject *)capi_lend_tmp!=lend_capi) {
    Py_XDECREF(capi_lend_tmp); }
  }  /*if (capi_lend_tmp == NULL) ... else of lend*/
  /* End of cleaning variable lend */
  if((PyObject *)capi_lptr_tmp!=lptr_capi) {
    Py_XDECREF(capi_lptr_tmp); }
  }  /*if (capi_lptr_tmp == NULL) ... else of lptr*/
  /* End of cleaning variable lptr */
  if((PyObject *)capi_list_tmp!=list_capi) {
    Py_XDECREF(capi_list_tmp); }
  }  /*if (capi_list_tmp == NULL) ... else of list*/
  /* End of cleaning variable list */
  if((PyObject *)capi_z_tmp!=z_capi) {
    Py_XDECREF(capi_z_tmp); }
  }  /*if (capi_z_tmp == NULL) ... else of z*/
  /* End of cleaning variable z */
  if((PyObject *)capi_y_tmp!=y_capi) {
    Py_XDECREF(capi_y_tmp); }
  }  /*if (capi_y_tmp == NULL) ... else of y*/
  /* End of cleaning variable y */
  if((PyObject *)capi_x_tmp!=x_capi) {
    Py_XDECREF(capi_x_tmp); }
  }  /*if (capi_x_tmp == NULL) ... else of x*/
  /* End of cleaning variable x */
  } /*if (f2py_success) of n*/
  /* End of cleaning variable n */
  if((PyObject *)capi_p_tmp!=p_capi) {
    Py_XDECREF(capi_p_tmp); }
  }  /*if (capi_p_tmp == NULL) ... else of p*/
  /* End of cleaning variable p */
  } /*if (f2py_success) of nst*/
  /* End of cleaning variable nst */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/******************************* end of trfind *******************************/

/*********************************** jrand ***********************************/
static char doc_f2py_rout_ftran_jrand[] = "\
jrand = jrand(n,ix,iy,iz)\n\nWrapper for ``jrand``.\
\n\nParameters\n----------\n"
"n : input int\n"
"ix : input int\n"
"iy : input int\n"
"iz : input int\n"
"\nReturns\n-------\n"
"jrand : int";
/* extern void F_WRAPPEDFUNC(jrand,JRAND)(int*,int*,int*,int*,int*); */
static PyObject *f2py_rout_ftran_jrand(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(int*,int*,int*,int*,int*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  int jrand = 0;
  int n = 0;
  PyObject *n_capi = Py_None;
  int ix = 0;
  PyObject *ix_capi = Py_None;
  int iy = 0;
  PyObject *iy_capi = Py_None;
  int iz = 0;
  PyObject *iz_capi = Py_None;
  static char *capi_kwlist[] = {"n","ix","iy","iz",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOO:ftran.jrand",\
    capi_kwlist,&n_capi,&ix_capi,&iy_capi,&iz_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable n */
    f2py_success = int_from_pyobj(&n,n_capi,"ftran.jrand() 1st argument (n) can't be converted to int");
  if (f2py_success) {
  /* Processing variable ix */
    f2py_success = int_from_pyobj(&ix,ix_capi,"ftran.jrand() 2nd argument (ix) can't be converted to int");
  if (f2py_success) {
  /* Processing variable iy */
    f2py_success = int_from_pyobj(&iy,iy_capi,"ftran.jrand() 3rd argument (iy) can't be converted to int");
  if (f2py_success) {
  /* Processing variable iz */
    f2py_success = int_from_pyobj(&iz,iz_capi,"ftran.jrand() 4th argument (iz) can't be converted to int");
  if (f2py_success) {
  /* Processing variable jrand */
/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
  (*f2py_func)(&jrand,&n,&ix,&iy,&iz);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("i",jrand);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  /* End of cleaning variable jrand */
  } /*if (f2py_success) of iz*/
  /* End of cleaning variable iz */
  } /*if (f2py_success) of iy*/
  /* End of cleaning variable iy */
  } /*if (f2py_success) of ix*/
  /* End of cleaning variable ix */
  } /*if (f2py_success) of n*/
  /* End of cleaning variable n */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/******************************** end of jrand ********************************/

/*********************************** lstptr ***********************************/
static char doc_f2py_rout_ftran_lstptr[] = "\
lstptr = lstptr(lpl,nb,list,lptr)\n\nWrapper for ``lstptr``.\
\n\nParameters\n----------\n"
"lpl : input int\n"
"nb : input int\n"
"list : input rank-1 array('i') with bounds (*)\n"
"lptr : input rank-1 array('i') with bounds (*)\n"
"\nReturns\n-------\n"
"lstptr : int";
/* extern void F_WRAPPEDFUNC(lstptr,LSTPTR)(int*,int*,int*,int*,int*); */
static PyObject *f2py_rout_ftran_lstptr(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(int*,int*,int*,int*,int*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  int lstptr = 0;
  int lpl = 0;
  PyObject *lpl_capi = Py_None;
  int nb = 0;
  PyObject *nb_capi = Py_None;
  int *list = NULL;
  npy_intp list_Dims[1] = {-1};
  const int list_Rank = 1;
  PyArrayObject *capi_list_tmp = NULL;
  int capi_list_intent = 0;
  PyObject *list_capi = Py_None;
  int *lptr = NULL;
  npy_intp lptr_Dims[1] = {-1};
  const int lptr_Rank = 1;
  PyArrayObject *capi_lptr_tmp = NULL;
  int capi_lptr_intent = 0;
  PyObject *lptr_capi = Py_None;
  static char *capi_kwlist[] = {"lpl","nb","list","lptr",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOO:ftran.lstptr",\
    capi_kwlist,&lpl_capi,&nb_capi,&list_capi,&lptr_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable lpl */
    f2py_success = int_from_pyobj(&lpl,lpl_capi,"ftran.lstptr() 1st argument (lpl) can't be converted to int");
  if (f2py_success) {
  /* Processing variable nb */
    f2py_success = int_from_pyobj(&nb,nb_capi,"ftran.lstptr() 2nd argument (nb) can't be converted to int");
  if (f2py_success) {
  /* Processing variable list */
  ;
  capi_list_intent |= F2PY_INTENT_IN;
  capi_list_tmp = array_from_pyobj(NPY_INT,list_Dims,list_Rank,capi_list_intent,list_capi);
  if (capi_list_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 3rd argument `list' of ftran.lstptr to C/Fortran array" );
  } else {
    list = (int *)(PyArray_DATA(capi_list_tmp));

  /* Processing variable lptr */
  ;
  capi_lptr_intent |= F2PY_INTENT_IN;
  capi_lptr_tmp = array_from_pyobj(NPY_INT,lptr_Dims,lptr_Rank,capi_lptr_intent,lptr_capi);
  if (capi_lptr_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 4th argument `lptr' of ftran.lstptr to C/Fortran array" );
  } else {
    lptr = (int *)(PyArray_DATA(capi_lptr_tmp));

  /* Processing variable lstptr */
/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
  (*f2py_func)(&lstptr,&lpl,&nb,list,lptr);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("i",lstptr);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  /* End of cleaning variable lstptr */
  if((PyObject *)capi_lptr_tmp!=lptr_capi) {
    Py_XDECREF(capi_lptr_tmp); }
  }  /*if (capi_lptr_tmp == NULL) ... else of lptr*/
  /* End of cleaning variable lptr */
  if((PyObject *)capi_list_tmp!=list_capi) {
    Py_XDECREF(capi_list_tmp); }
  }  /*if (capi_list_tmp == NULL) ... else of list*/
  /* End of cleaning variable list */
  } /*if (f2py_success) of nb*/
  /* End of cleaning variable nb */
  } /*if (f2py_success) of lpl*/
  /* End of cleaning variable lpl */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/******************************* end of lstptr *******************************/

/*********************************** store ***********************************/
static char doc_f2py_rout_ftran_store[] = "\
store = store(x)\n\nWrapper for ``store``.\
\n\nParameters\n----------\n"
"x : input float\n"
"\nReturns\n-------\n"
"store : float";
/* extern void F_WRAPPEDFUNC(store,STORE)(float*,float*); */
static PyObject *f2py_rout_ftran_store(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float store = 0;
  float x = 0;
  PyObject *x_capi = Py_None;
  static char *capi_kwlist[] = {"x",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "O:ftran.store",\
    capi_kwlist,&x_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable x */
    f2py_success = float_from_pyobj(&x,x_capi,"ftran.store() 1st argument (x) can't be converted to float");
  if (f2py_success) {
  /* Processing variable store */
/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
  (*f2py_func)(&store,&x);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("f",store);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  /* End of cleaning variable store */
  } /*if (f2py_success) of x*/
  /* End of cleaning variable x */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/******************************** end of store ********************************/

/********************************** geocords **********************************/
static char doc_f2py_rout_ftran_geocords[] = "\
gx,gy,gz,sl = geocords(theta_geo,phi_geo,theta_source,phi_source)\n\nWrapper for ``geocords``.\
\n\nParameters\n----------\n"
"theta_geo : input float\n"
"phi_geo : input float\n"
"theta_source : input float\n"
"phi_source : input float\n"
"\nReturns\n-------\n"
"gx : rank-1 array('f') with bounds (3)\n"
"gy : rank-1 array('f') with bounds (3)\n"
"gz : rank-1 array('f') with bounds (3)\n"
"sl : rank-1 array('f') with bounds (3)";
/* extern void F_FUNC(geocords,GEOCORDS)(float*,float*,float*,float*,float*,float*,float*,float*); */
static PyObject *f2py_rout_ftran_geocords(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,float*,float*,float*,float*,float*,float*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float theta_geo = 0;
  PyObject *theta_geo_capi = Py_None;
  float phi_geo = 0;
  PyObject *phi_geo_capi = Py_None;
  float theta_source = 0;
  PyObject *theta_source_capi = Py_None;
  float phi_source = 0;
  PyObject *phi_source_capi = Py_None;
  float *gx = NULL;
  npy_intp gx_Dims[1] = {-1};
  const int gx_Rank = 1;
  PyArrayObject *capi_gx_tmp = NULL;
  int capi_gx_intent = 0;
  float *gy = NULL;
  npy_intp gy_Dims[1] = {-1};
  const int gy_Rank = 1;
  PyArrayObject *capi_gy_tmp = NULL;
  int capi_gy_intent = 0;
  float *gz = NULL;
  npy_intp gz_Dims[1] = {-1};
  const int gz_Rank = 1;
  PyArrayObject *capi_gz_tmp = NULL;
  int capi_gz_intent = 0;
  float *sl = NULL;
  npy_intp sl_Dims[1] = {-1};
  const int sl_Rank = 1;
  PyArrayObject *capi_sl_tmp = NULL;
  int capi_sl_intent = 0;
  static char *capi_kwlist[] = {"theta_geo","phi_geo","theta_source","phi_source",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOO:ftran.geocords",\
    capi_kwlist,&theta_geo_capi,&phi_geo_capi,&theta_source_capi,&phi_source_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable theta_geo */
    f2py_success = float_from_pyobj(&theta_geo,theta_geo_capi,"ftran.geocords() 1st argument (theta_geo) can't be converted to float");
  if (f2py_success) {
  /* Processing variable phi_geo */
    f2py_success = float_from_pyobj(&phi_geo,phi_geo_capi,"ftran.geocords() 2nd argument (phi_geo) can't be converted to float");
  if (f2py_success) {
  /* Processing variable theta_source */
    f2py_success = float_from_pyobj(&theta_source,theta_source_capi,"ftran.geocords() 3rd argument (theta_source) can't be converted to float");
  if (f2py_success) {
  /* Processing variable phi_source */
    f2py_success = float_from_pyobj(&phi_source,phi_source_capi,"ftran.geocords() 4th argument (phi_source) can't be converted to float");
  if (f2py_success) {
  /* Processing variable gx */
  gx_Dims[0]=3;
  capi_gx_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_gx_tmp = array_from_pyobj(NPY_FLOAT,gx_Dims,gx_Rank,capi_gx_intent,Py_None);
  if (capi_gx_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `gx' of ftran.geocords to C/Fortran array" );
  } else {
    gx = (float *)(PyArray_DATA(capi_gx_tmp));

  /* Processing variable gy */
  gy_Dims[0]=3;
  capi_gy_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_gy_tmp = array_from_pyobj(NPY_FLOAT,gy_Dims,gy_Rank,capi_gy_intent,Py_None);
  if (capi_gy_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `gy' of ftran.geocords to C/Fortran array" );
  } else {
    gy = (float *)(PyArray_DATA(capi_gy_tmp));

  /* Processing variable gz */
  gz_Dims[0]=3;
  capi_gz_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_gz_tmp = array_from_pyobj(NPY_FLOAT,gz_Dims,gz_Rank,capi_gz_intent,Py_None);
  if (capi_gz_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `gz' of ftran.geocords to C/Fortran array" );
  } else {
    gz = (float *)(PyArray_DATA(capi_gz_tmp));

  /* Processing variable sl */
  sl_Dims[0]=3;
  capi_sl_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_sl_tmp = array_from_pyobj(NPY_FLOAT,sl_Dims,sl_Rank,capi_sl_intent,Py_None);
  if (capi_sl_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `sl' of ftran.geocords to C/Fortran array" );
  } else {
    sl = (float *)(PyArray_DATA(capi_sl_tmp));

/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(&theta_geo,&phi_geo,&theta_source,&phi_source,gx,gy,gz,sl);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("NNNN",capi_gx_tmp,capi_gy_tmp,capi_gz_tmp,capi_sl_tmp);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  }  /*if (capi_sl_tmp == NULL) ... else of sl*/
  /* End of cleaning variable sl */
  }  /*if (capi_gz_tmp == NULL) ... else of gz*/
  /* End of cleaning variable gz */
  }  /*if (capi_gy_tmp == NULL) ... else of gy*/
  /* End of cleaning variable gy */
  }  /*if (capi_gx_tmp == NULL) ... else of gx*/
  /* End of cleaning variable gx */
  } /*if (f2py_success) of phi_source*/
  /* End of cleaning variable phi_source */
  } /*if (f2py_success) of theta_source*/
  /* End of cleaning variable theta_source */
  } /*if (f2py_success) of phi_geo*/
  /* End of cleaning variable phi_geo */
  } /*if (f2py_success) of theta_geo*/
  /* End of cleaning variable theta_geo */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/****************************** end of geocords ******************************/

/******************************** geo_to_space ********************************/
static char doc_f2py_rout_ftran_geo_to_space[] = "\
dirx,diry,dirz,az,el = geo_to_space(theta_u,phi_u,gx,gy,gz)\n\nWrapper for ``geo_to_space``.\
\n\nParameters\n----------\n"
"theta_u : input float\n"
"phi_u : input float\n"
"gx : input rank-1 array('f') with bounds (3)\n"
"gy : input rank-1 array('f') with bounds (3)\n"
"gz : input rank-1 array('f') with bounds (3)\n"
"\nReturns\n-------\n"
"dirx : float\n"
"diry : float\n"
"dirz : float\n"
"az : float\n"
"el : float";
/* extern void F_FUNC_US(geo_to_space,GEO_TO_SPACE)(float*,float*,float*,float*,float*,float*,float*,float*,float*,float*); */
static PyObject *f2py_rout_ftran_geo_to_space(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,float*,float*,float*,float*,float*,float*,float*,float*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float theta_u = 0;
  PyObject *theta_u_capi = Py_None;
  float phi_u = 0;
  PyObject *phi_u_capi = Py_None;
  float *gx = NULL;
  npy_intp gx_Dims[1] = {-1};
  const int gx_Rank = 1;
  PyArrayObject *capi_gx_tmp = NULL;
  int capi_gx_intent = 0;
  PyObject *gx_capi = Py_None;
  float *gy = NULL;
  npy_intp gy_Dims[1] = {-1};
  const int gy_Rank = 1;
  PyArrayObject *capi_gy_tmp = NULL;
  int capi_gy_intent = 0;
  PyObject *gy_capi = Py_None;
  float *gz = NULL;
  npy_intp gz_Dims[1] = {-1};
  const int gz_Rank = 1;
  PyArrayObject *capi_gz_tmp = NULL;
  int capi_gz_intent = 0;
  PyObject *gz_capi = Py_None;
  float dirx = 0;
  float diry = 0;
  float dirz = 0;
  float az = 0;
  float el = 0;
  static char *capi_kwlist[] = {"theta_u","phi_u","gx","gy","gz",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOOO:ftran.geo_to_space",\
    capi_kwlist,&theta_u_capi,&phi_u_capi,&gx_capi,&gy_capi,&gz_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable theta_u */
    f2py_success = float_from_pyobj(&theta_u,theta_u_capi,"ftran.geo_to_space() 1st argument (theta_u) can't be converted to float");
  if (f2py_success) {
  /* Processing variable phi_u */
    f2py_success = float_from_pyobj(&phi_u,phi_u_capi,"ftran.geo_to_space() 2nd argument (phi_u) can't be converted to float");
  if (f2py_success) {
  /* Processing variable gx */
  gx_Dims[0]=3;
  capi_gx_intent |= F2PY_INTENT_IN;
  capi_gx_tmp = array_from_pyobj(NPY_FLOAT,gx_Dims,gx_Rank,capi_gx_intent,gx_capi);
  if (capi_gx_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 3rd argument `gx' of ftran.geo_to_space to C/Fortran array" );
  } else {
    gx = (float *)(PyArray_DATA(capi_gx_tmp));

  /* Processing variable gy */
  gy_Dims[0]=3;
  capi_gy_intent |= F2PY_INTENT_IN;
  capi_gy_tmp = array_from_pyobj(NPY_FLOAT,gy_Dims,gy_Rank,capi_gy_intent,gy_capi);
  if (capi_gy_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 4th argument `gy' of ftran.geo_to_space to C/Fortran array" );
  } else {
    gy = (float *)(PyArray_DATA(capi_gy_tmp));

  /* Processing variable gz */
  gz_Dims[0]=3;
  capi_gz_intent |= F2PY_INTENT_IN;
  capi_gz_tmp = array_from_pyobj(NPY_FLOAT,gz_Dims,gz_Rank,capi_gz_intent,gz_capi);
  if (capi_gz_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 5th argument `gz' of ftran.geo_to_space to C/Fortran array" );
  } else {
    gz = (float *)(PyArray_DATA(capi_gz_tmp));

  /* Processing variable dirx */
  /* Processing variable diry */
  /* Processing variable dirz */
  /* Processing variable az */
  /* Processing variable el */
/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(&theta_u,&phi_u,gx,gy,gz,&dirx,&diry,&dirz,&az,&el);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("fffff",dirx,diry,dirz,az,el);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  /* End of cleaning variable el */
  /* End of cleaning variable az */
  /* End of cleaning variable dirz */
  /* End of cleaning variable diry */
  /* End of cleaning variable dirx */
  if((PyObject *)capi_gz_tmp!=gz_capi) {
    Py_XDECREF(capi_gz_tmp); }
  }  /*if (capi_gz_tmp == NULL) ... else of gz*/
  /* End of cleaning variable gz */
  if((PyObject *)capi_gy_tmp!=gy_capi) {
    Py_XDECREF(capi_gy_tmp); }
  }  /*if (capi_gy_tmp == NULL) ... else of gy*/
  /* End of cleaning variable gy */
  if((PyObject *)capi_gx_tmp!=gx_capi) {
    Py_XDECREF(capi_gx_tmp); }
  }  /*if (capi_gx_tmp == NULL) ... else of gx*/
  /* End of cleaning variable gx */
  } /*if (f2py_success) of phi_u*/
  /* End of cleaning variable phi_u */
  } /*if (f2py_success) of theta_u*/
  /* End of cleaning variable theta_u */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/**************************** end of geo_to_space ****************************/

/****************************** calc_sphere_dist ******************************/
static char doc_f2py_rout_ftran_calc_sphere_dist[] = "\
dist = calc_sphere_dist(ra1,dec1,ra2,dec2)\n\nWrapper for ``calc_sphere_dist``.\
\n\nParameters\n----------\n"
"ra1 : input float\n"
"dec1 : input float\n"
"ra2 : input float\n"
"dec2 : input float\n"
"\nReturns\n-------\n"
"dist : float";
/* extern void F_FUNC_US(calc_sphere_dist,CALC_SPHERE_DIST)(float*,float*,float*,float*,float*); */
static PyObject *f2py_rout_ftran_calc_sphere_dist(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,float*,float*,float*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float ra1 = 0;
  PyObject *ra1_capi = Py_None;
  float dec1 = 0;
  PyObject *dec1_capi = Py_None;
  float ra2 = 0;
  PyObject *ra2_capi = Py_None;
  float dec2 = 0;
  PyObject *dec2_capi = Py_None;
  float dist = 0;
  static char *capi_kwlist[] = {"ra1","dec1","ra2","dec2",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOO:ftran.calc_sphere_dist",\
    capi_kwlist,&ra1_capi,&dec1_capi,&ra2_capi,&dec2_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable ra1 */
    f2py_success = float_from_pyobj(&ra1,ra1_capi,"ftran.calc_sphere_dist() 1st argument (ra1) can't be converted to float");
  if (f2py_success) {
  /* Processing variable dec1 */
    f2py_success = float_from_pyobj(&dec1,dec1_capi,"ftran.calc_sphere_dist() 2nd argument (dec1) can't be converted to float");
  if (f2py_success) {
  /* Processing variable ra2 */
    f2py_success = float_from_pyobj(&ra2,ra2_capi,"ftran.calc_sphere_dist() 3rd argument (ra2) can't be converted to float");
  if (f2py_success) {
  /* Processing variable dec2 */
    f2py_success = float_from_pyobj(&dec2,dec2_capi,"ftran.calc_sphere_dist() 4th argument (dec2) can't be converted to float");
  if (f2py_success) {
  /* Processing variable dist */
/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(&ra1,&dec1,&ra2,&dec2,&dist);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("f",dist);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  /* End of cleaning variable dist */
  } /*if (f2py_success) of dec2*/
  /* End of cleaning variable dec2 */
  } /*if (f2py_success) of ra2*/
  /* End of cleaning variable ra2 */
  } /*if (f2py_success) of dec1*/
  /* End of cleaning variable dec1 */
  } /*if (f2py_success) of ra1*/
  /* End of cleaning variable ra1 */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/************************** end of calc_sphere_dist **************************/

/******************************** sum_at_scat ********************************/
static char doc_f2py_rout_ftran_sum_at_scat[] = "\
out_matrix = sum_at_scat(direct_diff_matrix,at_scat_data_lo,at_scat_data_hi,l_fract,[ienerg,nobins_out])\n\nWrapper for ``sum_at_scat``.\
\n\nParameters\n----------\n"
"direct_diff_matrix : input rank-2 array('f') with bounds (ienerg,nobins_out)\n"
"at_scat_data_lo : input rank-2 array('f') with bounds (ienerg,ienerg)\n"
"at_scat_data_hi : input rank-2 array('f') with bounds (ienerg,ienerg)\n"
"l_fract : input float\n"
"\nOther Parameters\n----------------\n"
"ienerg : input int, optional\n    Default: shape(direct_diff_matrix,0)\n"
"nobins_out : input int, optional\n    Default: shape(direct_diff_matrix,1)\n"
"\nReturns\n-------\n"
"out_matrix : rank-2 array('f') with bounds (ienerg,nobins_out)";
/* extern void F_FUNC_US(sum_at_scat,SUM_AT_SCAT)(float*,float*,float*,float*,int*,int*,float*); */
static PyObject *f2py_rout_ftran_sum_at_scat(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,float*,float*,float*,int*,int*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float *direct_diff_matrix = NULL;
  npy_intp direct_diff_matrix_Dims[2] = {-1, -1};
  const int direct_diff_matrix_Rank = 2;
  PyArrayObject *capi_direct_diff_matrix_tmp = NULL;
  int capi_direct_diff_matrix_intent = 0;
  PyObject *direct_diff_matrix_capi = Py_None;
  float *at_scat_data_lo = NULL;
  npy_intp at_scat_data_lo_Dims[2] = {-1, -1};
  const int at_scat_data_lo_Rank = 2;
  PyArrayObject *capi_at_scat_data_lo_tmp = NULL;
  int capi_at_scat_data_lo_intent = 0;
  PyObject *at_scat_data_lo_capi = Py_None;
  float *at_scat_data_hi = NULL;
  npy_intp at_scat_data_hi_Dims[2] = {-1, -1};
  const int at_scat_data_hi_Rank = 2;
  PyArrayObject *capi_at_scat_data_hi_tmp = NULL;
  int capi_at_scat_data_hi_intent = 0;
  PyObject *at_scat_data_hi_capi = Py_None;
  float l_fract = 0;
  PyObject *l_fract_capi = Py_None;
  int ienerg = 0;
  PyObject *ienerg_capi = Py_None;
  int nobins_out = 0;
  PyObject *nobins_out_capi = Py_None;
  float *out_matrix = NULL;
  npy_intp out_matrix_Dims[2] = {-1, -1};
  const int out_matrix_Rank = 2;
  PyArrayObject *capi_out_matrix_tmp = NULL;
  int capi_out_matrix_intent = 0;
  static char *capi_kwlist[] = {"direct_diff_matrix","at_scat_data_lo","at_scat_data_hi","l_fract","ienerg","nobins_out",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOO|OO:ftran.sum_at_scat",\
    capi_kwlist,&direct_diff_matrix_capi,&at_scat_data_lo_capi,&at_scat_data_hi_capi,&l_fract_capi,&ienerg_capi,&nobins_out_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable direct_diff_matrix */
  ;
  capi_direct_diff_matrix_intent |= F2PY_INTENT_IN;
  capi_direct_diff_matrix_tmp = array_from_pyobj(NPY_FLOAT,direct_diff_matrix_Dims,direct_diff_matrix_Rank,capi_direct_diff_matrix_intent,direct_diff_matrix_capi);
  if (capi_direct_diff_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 1st argument `direct_diff_matrix' of ftran.sum_at_scat to C/Fortran array" );
  } else {
    direct_diff_matrix = (float *)(PyArray_DATA(capi_direct_diff_matrix_tmp));

  /* Processing variable l_fract */
    f2py_success = float_from_pyobj(&l_fract,l_fract_capi,"ftran.sum_at_scat() 4th argument (l_fract) can't be converted to float");
  if (f2py_success) {
  /* Processing variable ienerg */
  if (ienerg_capi == Py_None) ienerg = shape(direct_diff_matrix,0); else
    f2py_success = int_from_pyobj(&ienerg,ienerg_capi,"ftran.sum_at_scat() 1st keyword (ienerg) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR(shape(direct_diff_matrix,0)==ienerg,"shape(direct_diff_matrix,0)==ienerg","1st keyword ienerg","sum_at_scat:ienerg=%d",ienerg) {
  /* Processing variable nobins_out */
  if (nobins_out_capi == Py_None) nobins_out = shape(direct_diff_matrix,1); else
    f2py_success = int_from_pyobj(&nobins_out,nobins_out_capi,"ftran.sum_at_scat() 2nd keyword (nobins_out) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR(shape(direct_diff_matrix,1)==nobins_out,"shape(direct_diff_matrix,1)==nobins_out","2nd keyword nobins_out","sum_at_scat:nobins_out=%d",nobins_out) {
  /* Processing variable out_matrix */
  out_matrix_Dims[0]=ienerg,out_matrix_Dims[1]=nobins_out;
  capi_out_matrix_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_out_matrix_tmp = array_from_pyobj(NPY_FLOAT,out_matrix_Dims,out_matrix_Rank,capi_out_matrix_intent,Py_None);
  if (capi_out_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `out_matrix' of ftran.sum_at_scat to C/Fortran array" );
  } else {
    out_matrix = (float *)(PyArray_DATA(capi_out_matrix_tmp));

  /* Processing variable at_scat_data_lo */
  at_scat_data_lo_Dims[0]=ienerg,at_scat_data_lo_Dims[1]=ienerg;
  capi_at_scat_data_lo_intent |= F2PY_INTENT_IN;
  capi_at_scat_data_lo_tmp = array_from_pyobj(NPY_FLOAT,at_scat_data_lo_Dims,at_scat_data_lo_Rank,capi_at_scat_data_lo_intent,at_scat_data_lo_capi);
  if (capi_at_scat_data_lo_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 2nd argument `at_scat_data_lo' of ftran.sum_at_scat to C/Fortran array" );
  } else {
    at_scat_data_lo = (float *)(PyArray_DATA(capi_at_scat_data_lo_tmp));

  /* Processing variable at_scat_data_hi */
  at_scat_data_hi_Dims[0]=ienerg,at_scat_data_hi_Dims[1]=ienerg;
  capi_at_scat_data_hi_intent |= F2PY_INTENT_IN;
  capi_at_scat_data_hi_tmp = array_from_pyobj(NPY_FLOAT,at_scat_data_hi_Dims,at_scat_data_hi_Rank,capi_at_scat_data_hi_intent,at_scat_data_hi_capi);
  if (capi_at_scat_data_hi_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 3rd argument `at_scat_data_hi' of ftran.sum_at_scat to C/Fortran array" );
  } else {
    at_scat_data_hi = (float *)(PyArray_DATA(capi_at_scat_data_hi_tmp));

/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(direct_diff_matrix,at_scat_data_lo,at_scat_data_hi,&l_fract,&ienerg,&nobins_out,out_matrix);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("N",capi_out_matrix_tmp);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  if((PyObject *)capi_at_scat_data_hi_tmp!=at_scat_data_hi_capi) {
    Py_XDECREF(capi_at_scat_data_hi_tmp); }
  }  /*if (capi_at_scat_data_hi_tmp == NULL) ... else of at_scat_data_hi*/
  /* End of cleaning variable at_scat_data_hi */
  if((PyObject *)capi_at_scat_data_lo_tmp!=at_scat_data_lo_capi) {
    Py_XDECREF(capi_at_scat_data_lo_tmp); }
  }  /*if (capi_at_scat_data_lo_tmp == NULL) ... else of at_scat_data_lo*/
  /* End of cleaning variable at_scat_data_lo */
  }  /*if (capi_out_matrix_tmp == NULL) ... else of out_matrix*/
  /* End of cleaning variable out_matrix */
  } /*CHECKSCALAR(shape(direct_diff_matrix,1)==nobins_out)*/
  } /*if (f2py_success) of nobins_out*/
  /* End of cleaning variable nobins_out */
  } /*CHECKSCALAR(shape(direct_diff_matrix,0)==ienerg)*/
  } /*if (f2py_success) of ienerg*/
  /* End of cleaning variable ienerg */
  } /*if (f2py_success) of l_fract*/
  /* End of cleaning variable l_fract */
  if((PyObject *)capi_direct_diff_matrix_tmp!=direct_diff_matrix_capi) {
    Py_XDECREF(capi_direct_diff_matrix_tmp); }
  }  /*if (capi_direct_diff_matrix_tmp == NULL) ... else of direct_diff_matrix*/
  /* End of cleaning variable direct_diff_matrix */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/***************************** end of sum_at_scat *****************************/

/************************ highres_ephoton_interpolator ************************/
static char doc_f2py_rout_ftran_highres_ephoton_interpolator[] = "\
new_epx_lo,new_epx_hi,diff_matrix = highres_ephoton_interpolator(ebin_edge_in,ein,matrix,edif_edge_lo,edif_edge_hi,nhbins,[nobins_in,nvbins])\n\nWrapper for ``highres_ephoton_interpolator``.\
\n\nParameters\n----------\n"
"ebin_edge_in : input rank-1 array('f') with bounds (nobins_in)\n"
"ein : input rank-1 array('f') with bounds (nvbins + 1)\n"
"matrix : input rank-2 array('f') with bounds (70,64)\n"
"edif_edge_lo : input rank-2 array('f') with bounds (70,64)\n"
"edif_edge_hi : input rank-2 array('f') with bounds (70,64)\n"
"nhbins : input int\n"
"\nOther Parameters\n----------------\n"
"nobins_in : input int, optional\n    Default: len(ebin_edge_in)\n"
"nvbins : input int, optional\n    Default: (len(ein)-1)\n"
"\nReturns\n-------\n"
"new_epx_lo : rank-2 array('f') with bounds (nobins_in,64)\n"
"new_epx_hi : rank-2 array('f') with bounds (nobins_in,64)\n"
"diff_matrix : rank-2 array('f') with bounds (nobins_in,64)";
/* extern void F_FUNC_US(highres_ephoton_interpolator,HIGHRES_EPHOTON_INTERPOLATOR)(float*,int*,float*,int*,float*,float*,float*,int*,float*,float*,float*); */
static PyObject *f2py_rout_ftran_highres_ephoton_interpolator(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,int*,float*,int*,float*,float*,float*,int*,float*,float*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float *ebin_edge_in = NULL;
  npy_intp ebin_edge_in_Dims[1] = {-1};
  const int ebin_edge_in_Rank = 1;
  PyArrayObject *capi_ebin_edge_in_tmp = NULL;
  int capi_ebin_edge_in_intent = 0;
  PyObject *ebin_edge_in_capi = Py_None;
  int nobins_in = 0;
  PyObject *nobins_in_capi = Py_None;
  float *ein = NULL;
  npy_intp ein_Dims[1] = {-1};
  const int ein_Rank = 1;
  PyArrayObject *capi_ein_tmp = NULL;
  int capi_ein_intent = 0;
  PyObject *ein_capi = Py_None;
  int nvbins = 0;
  PyObject *nvbins_capi = Py_None;
  float *matrix = NULL;
  npy_intp matrix_Dims[2] = {-1, -1};
  const int matrix_Rank = 2;
  PyArrayObject *capi_matrix_tmp = NULL;
  int capi_matrix_intent = 0;
  PyObject *matrix_capi = Py_None;
  float *edif_edge_lo = NULL;
  npy_intp edif_edge_lo_Dims[2] = {-1, -1};
  const int edif_edge_lo_Rank = 2;
  PyArrayObject *capi_edif_edge_lo_tmp = NULL;
  int capi_edif_edge_lo_intent = 0;
  PyObject *edif_edge_lo_capi = Py_None;
  float *edif_edge_hi = NULL;
  npy_intp edif_edge_hi_Dims[2] = {-1, -1};
  const int edif_edge_hi_Rank = 2;
  PyArrayObject *capi_edif_edge_hi_tmp = NULL;
  int capi_edif_edge_hi_intent = 0;
  PyObject *edif_edge_hi_capi = Py_None;
  int nhbins = 0;
  PyObject *nhbins_capi = Py_None;
  float *new_epx_lo = NULL;
  npy_intp new_epx_lo_Dims[2] = {-1, -1};
  const int new_epx_lo_Rank = 2;
  PyArrayObject *capi_new_epx_lo_tmp = NULL;
  int capi_new_epx_lo_intent = 0;
  float *new_epx_hi = NULL;
  npy_intp new_epx_hi_Dims[2] = {-1, -1};
  const int new_epx_hi_Rank = 2;
  PyArrayObject *capi_new_epx_hi_tmp = NULL;
  int capi_new_epx_hi_intent = 0;
  float *diff_matrix = NULL;
  npy_intp diff_matrix_Dims[2] = {-1, -1};
  const int diff_matrix_Rank = 2;
  PyArrayObject *capi_diff_matrix_tmp = NULL;
  int capi_diff_matrix_intent = 0;
  static char *capi_kwlist[] = {"ebin_edge_in","ein","matrix","edif_edge_lo","edif_edge_hi","nhbins","nobins_in","nvbins",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOOOO|OO:ftran.highres_ephoton_interpolator",\
    capi_kwlist,&ebin_edge_in_capi,&ein_capi,&matrix_capi,&edif_edge_lo_capi,&edif_edge_hi_capi,&nhbins_capi,&nobins_in_capi,&nvbins_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable ebin_edge_in */
  ;
  capi_ebin_edge_in_intent |= F2PY_INTENT_IN;
  capi_ebin_edge_in_tmp = array_from_pyobj(NPY_FLOAT,ebin_edge_in_Dims,ebin_edge_in_Rank,capi_ebin_edge_in_intent,ebin_edge_in_capi);
  if (capi_ebin_edge_in_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 1st argument `ebin_edge_in' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    ebin_edge_in = (float *)(PyArray_DATA(capi_ebin_edge_in_tmp));

  /* Processing variable ein */
  ;
  capi_ein_intent |= F2PY_INTENT_IN;
  capi_ein_tmp = array_from_pyobj(NPY_FLOAT,ein_Dims,ein_Rank,capi_ein_intent,ein_capi);
  if (capi_ein_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 2nd argument `ein' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    ein = (float *)(PyArray_DATA(capi_ein_tmp));

  /* Processing variable matrix */
  matrix_Dims[0]=70,matrix_Dims[1]=64;
  capi_matrix_intent |= F2PY_INTENT_IN;
  capi_matrix_tmp = array_from_pyobj(NPY_FLOAT,matrix_Dims,matrix_Rank,capi_matrix_intent,matrix_capi);
  if (capi_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 3rd argument `matrix' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    matrix = (float *)(PyArray_DATA(capi_matrix_tmp));

  /* Processing variable edif_edge_lo */
  edif_edge_lo_Dims[0]=70,edif_edge_lo_Dims[1]=64;
  capi_edif_edge_lo_intent |= F2PY_INTENT_IN;
  capi_edif_edge_lo_tmp = array_from_pyobj(NPY_FLOAT,edif_edge_lo_Dims,edif_edge_lo_Rank,capi_edif_edge_lo_intent,edif_edge_lo_capi);
  if (capi_edif_edge_lo_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 4th argument `edif_edge_lo' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    edif_edge_lo = (float *)(PyArray_DATA(capi_edif_edge_lo_tmp));

  /* Processing variable edif_edge_hi */
  edif_edge_hi_Dims[0]=70,edif_edge_hi_Dims[1]=64;
  capi_edif_edge_hi_intent |= F2PY_INTENT_IN;
  capi_edif_edge_hi_tmp = array_from_pyobj(NPY_FLOAT,edif_edge_hi_Dims,edif_edge_hi_Rank,capi_edif_edge_hi_intent,edif_edge_hi_capi);
  if (capi_edif_edge_hi_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 5th argument `edif_edge_hi' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    edif_edge_hi = (float *)(PyArray_DATA(capi_edif_edge_hi_tmp));

  /* Processing variable nhbins */
    f2py_success = int_from_pyobj(&nhbins,nhbins_capi,"ftran.highres_ephoton_interpolator() 6th argument (nhbins) can't be converted to int");
  if (f2py_success) {
  /* Processing variable nobins_in */
  if (nobins_in_capi == Py_None) nobins_in = len(ebin_edge_in); else
    f2py_success = int_from_pyobj(&nobins_in,nobins_in_capi,"ftran.highres_ephoton_interpolator() 1st keyword (nobins_in) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR(len(ebin_edge_in)>=nobins_in,"len(ebin_edge_in)>=nobins_in","1st keyword nobins_in","highres_ephoton_interpolator:nobins_in=%d",nobins_in) {
  /* Processing variable nvbins */
  if (nvbins_capi == Py_None) nvbins = (len(ein)-1); else
    f2py_success = int_from_pyobj(&nvbins,nvbins_capi,"ftran.highres_ephoton_interpolator() 2nd keyword (nvbins) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR((len(ein)-1)>=nvbins,"(len(ein)-1)>=nvbins","2nd keyword nvbins","highres_ephoton_interpolator:nvbins=%d",nvbins) {
  /* Processing variable new_epx_lo */
  new_epx_lo_Dims[0]=nobins_in,new_epx_lo_Dims[1]=64;
  capi_new_epx_lo_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_new_epx_lo_tmp = array_from_pyobj(NPY_FLOAT,new_epx_lo_Dims,new_epx_lo_Rank,capi_new_epx_lo_intent,Py_None);
  if (capi_new_epx_lo_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `new_epx_lo' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    new_epx_lo = (float *)(PyArray_DATA(capi_new_epx_lo_tmp));

  /* Processing variable new_epx_hi */
  new_epx_hi_Dims[0]=nobins_in,new_epx_hi_Dims[1]=64;
  capi_new_epx_hi_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_new_epx_hi_tmp = array_from_pyobj(NPY_FLOAT,new_epx_hi_Dims,new_epx_hi_Rank,capi_new_epx_hi_intent,Py_None);
  if (capi_new_epx_hi_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `new_epx_hi' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    new_epx_hi = (float *)(PyArray_DATA(capi_new_epx_hi_tmp));

  /* Processing variable diff_matrix */
  diff_matrix_Dims[0]=nobins_in,diff_matrix_Dims[1]=64;
  capi_diff_matrix_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_diff_matrix_tmp = array_from_pyobj(NPY_FLOAT,diff_matrix_Dims,diff_matrix_Rank,capi_diff_matrix_intent,Py_None);
  if (capi_diff_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `diff_matrix' of ftran.highres_ephoton_interpolator to C/Fortran array" );
  } else {
    diff_matrix = (float *)(PyArray_DATA(capi_diff_matrix_tmp));

/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(ebin_edge_in,&nobins_in,ein,&nvbins,matrix,edif_edge_lo,edif_edge_hi,&nhbins,new_epx_lo,new_epx_hi,diff_matrix);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("NNN",capi_new_epx_lo_tmp,capi_new_epx_hi_tmp,capi_diff_matrix_tmp);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  }  /*if (capi_diff_matrix_tmp == NULL) ... else of diff_matrix*/
  /* End of cleaning variable diff_matrix */
  }  /*if (capi_new_epx_hi_tmp == NULL) ... else of new_epx_hi*/
  /* End of cleaning variable new_epx_hi */
  }  /*if (capi_new_epx_lo_tmp == NULL) ... else of new_epx_lo*/
  /* End of cleaning variable new_epx_lo */
  } /*CHECKSCALAR((len(ein)-1)>=nvbins)*/
  } /*if (f2py_success) of nvbins*/
  /* End of cleaning variable nvbins */
  } /*CHECKSCALAR(len(ebin_edge_in)>=nobins_in)*/
  } /*if (f2py_success) of nobins_in*/
  /* End of cleaning variable nobins_in */
  } /*if (f2py_success) of nhbins*/
  /* End of cleaning variable nhbins */
  if((PyObject *)capi_edif_edge_hi_tmp!=edif_edge_hi_capi) {
    Py_XDECREF(capi_edif_edge_hi_tmp); }
  }  /*if (capi_edif_edge_hi_tmp == NULL) ... else of edif_edge_hi*/
  /* End of cleaning variable edif_edge_hi */
  if((PyObject *)capi_edif_edge_lo_tmp!=edif_edge_lo_capi) {
    Py_XDECREF(capi_edif_edge_lo_tmp); }
  }  /*if (capi_edif_edge_lo_tmp == NULL) ... else of edif_edge_lo*/
  /* End of cleaning variable edif_edge_lo */
  if((PyObject *)capi_matrix_tmp!=matrix_capi) {
    Py_XDECREF(capi_matrix_tmp); }
  }  /*if (capi_matrix_tmp == NULL) ... else of matrix*/
  /* End of cleaning variable matrix */
  if((PyObject *)capi_ein_tmp!=ein_capi) {
    Py_XDECREF(capi_ein_tmp); }
  }  /*if (capi_ein_tmp == NULL) ... else of ein*/
  /* End of cleaning variable ein */
  if((PyObject *)capi_ebin_edge_in_tmp!=ebin_edge_in_capi) {
    Py_XDECREF(capi_ebin_edge_in_tmp); }
  }  /*if (capi_ebin_edge_in_tmp == NULL) ... else of ebin_edge_in*/
  /* End of cleaning variable ebin_edge_in */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/******************** end of highres_ephoton_interpolator ********************/

/******************** atscat_highres_ephoton_interpolator ********************/
static char doc_f2py_rout_ftran_atscat_highres_ephoton_interpolator[] = "\
new_matrix = atscat_highres_ephoton_interpolator(ebin_edge_in,e_in,matrix,[nobins_in,nvbins,nobins_out])\n\nWrapper for ``atscat_highres_ephoton_interpolator``.\
\n\nParameters\n----------\n"
"ebin_edge_in : input rank-1 array('f') with bounds (nobins_in + 1)\n"
"e_in : input rank-1 array('f') with bounds (nvbins + 1)\n"
"matrix : input rank-2 array('f') with bounds (70,nobins_out)\n"
"\nOther Parameters\n----------------\n"
"nobins_in : input int, optional\n    Default: (len(ebin_edge_in)-1)\n"
"nvbins : input int, optional\n    Default: (len(e_in)-1)\n"
"nobins_out : input int, optional\n    Default: shape(matrix,1)\n"
"\nReturns\n-------\n"
"new_matrix : rank-2 array('f') with bounds (nobins_in,nobins_out)";
/* extern void F_FUNC_US(atscat_highres_ephoton_interpolator,ATSCAT_HIGHRES_EPHOTON_INTERPOLATOR)(float*,int*,float*,int*,float*,int*,float*); */
static PyObject *f2py_rout_ftran_atscat_highres_ephoton_interpolator(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(float*,int*,float*,int*,float*,int*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  float *ebin_edge_in = NULL;
  npy_intp ebin_edge_in_Dims[1] = {-1};
  const int ebin_edge_in_Rank = 1;
  PyArrayObject *capi_ebin_edge_in_tmp = NULL;
  int capi_ebin_edge_in_intent = 0;
  PyObject *ebin_edge_in_capi = Py_None;
  int nobins_in = 0;
  PyObject *nobins_in_capi = Py_None;
  float *e_in = NULL;
  npy_intp e_in_Dims[1] = {-1};
  const int e_in_Rank = 1;
  PyArrayObject *capi_e_in_tmp = NULL;
  int capi_e_in_intent = 0;
  PyObject *e_in_capi = Py_None;
  int nvbins = 0;
  PyObject *nvbins_capi = Py_None;
  float *matrix = NULL;
  npy_intp matrix_Dims[2] = {-1, -1};
  const int matrix_Rank = 2;
  PyArrayObject *capi_matrix_tmp = NULL;
  int capi_matrix_intent = 0;
  PyObject *matrix_capi = Py_None;
  int nobins_out = 0;
  PyObject *nobins_out_capi = Py_None;
  float *new_matrix = NULL;
  npy_intp new_matrix_Dims[2] = {-1, -1};
  const int new_matrix_Rank = 2;
  PyArrayObject *capi_new_matrix_tmp = NULL;
  int capi_new_matrix_intent = 0;
  static char *capi_kwlist[] = {"ebin_edge_in","e_in","matrix","nobins_in","nvbins","nobins_out",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOO|OOO:ftran.atscat_highres_ephoton_interpolator",\
    capi_kwlist,&ebin_edge_in_capi,&e_in_capi,&matrix_capi,&nobins_in_capi,&nvbins_capi,&nobins_out_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable ebin_edge_in */
  ;
  capi_ebin_edge_in_intent |= F2PY_INTENT_IN;
  capi_ebin_edge_in_tmp = array_from_pyobj(NPY_FLOAT,ebin_edge_in_Dims,ebin_edge_in_Rank,capi_ebin_edge_in_intent,ebin_edge_in_capi);
  if (capi_ebin_edge_in_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 1st argument `ebin_edge_in' of ftran.atscat_highres_ephoton_interpolator to C/Fortran array" );
  } else {
    ebin_edge_in = (float *)(PyArray_DATA(capi_ebin_edge_in_tmp));

  /* Processing variable e_in */
  ;
  capi_e_in_intent |= F2PY_INTENT_IN;
  capi_e_in_tmp = array_from_pyobj(NPY_FLOAT,e_in_Dims,e_in_Rank,capi_e_in_intent,e_in_capi);
  if (capi_e_in_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 2nd argument `e_in' of ftran.atscat_highres_ephoton_interpolator to C/Fortran array" );
  } else {
    e_in = (float *)(PyArray_DATA(capi_e_in_tmp));

  /* Processing variable matrix */
  matrix_Dims[0]=70;
  capi_matrix_intent |= F2PY_INTENT_IN;
  capi_matrix_tmp = array_from_pyobj(NPY_FLOAT,matrix_Dims,matrix_Rank,capi_matrix_intent,matrix_capi);
  if (capi_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 3rd argument `matrix' of ftran.atscat_highres_ephoton_interpolator to C/Fortran array" );
  } else {
    matrix = (float *)(PyArray_DATA(capi_matrix_tmp));

  /* Processing variable nobins_in */
  if (nobins_in_capi == Py_None) nobins_in = (len(ebin_edge_in)-1); else
    f2py_success = int_from_pyobj(&nobins_in,nobins_in_capi,"ftran.atscat_highres_ephoton_interpolator() 1st keyword (nobins_in) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR((len(ebin_edge_in)-1)>=nobins_in,"(len(ebin_edge_in)-1)>=nobins_in","1st keyword nobins_in","atscat_highres_ephoton_interpolator:nobins_in=%d",nobins_in) {
  /* Processing variable nvbins */
  if (nvbins_capi == Py_None) nvbins = (len(e_in)-1); else
    f2py_success = int_from_pyobj(&nvbins,nvbins_capi,"ftran.atscat_highres_ephoton_interpolator() 2nd keyword (nvbins) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR((len(e_in)-1)>=nvbins,"(len(e_in)-1)>=nvbins","2nd keyword nvbins","atscat_highres_ephoton_interpolator:nvbins=%d",nvbins) {
  /* Processing variable nobins_out */
  if (nobins_out_capi == Py_None) nobins_out = shape(matrix,1); else
    f2py_success = int_from_pyobj(&nobins_out,nobins_out_capi,"ftran.atscat_highres_ephoton_interpolator() 3rd keyword (nobins_out) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR(shape(matrix,1)==nobins_out,"shape(matrix,1)==nobins_out","3rd keyword nobins_out","atscat_highres_ephoton_interpolator:nobins_out=%d",nobins_out) {
  /* Processing variable new_matrix */
  new_matrix_Dims[0]=nobins_in,new_matrix_Dims[1]=nobins_out;
  capi_new_matrix_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_new_matrix_tmp = array_from_pyobj(NPY_FLOAT,new_matrix_Dims,new_matrix_Rank,capi_new_matrix_intent,Py_None);
  if (capi_new_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `new_matrix' of ftran.atscat_highres_ephoton_interpolator to C/Fortran array" );
  } else {
    new_matrix = (float *)(PyArray_DATA(capi_new_matrix_tmp));

/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(ebin_edge_in,&nobins_in,e_in,&nvbins,matrix,&nobins_out,new_matrix);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("N",capi_new_matrix_tmp);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  }  /*if (capi_new_matrix_tmp == NULL) ... else of new_matrix*/
  /* End of cleaning variable new_matrix */
  } /*CHECKSCALAR(shape(matrix,1)==nobins_out)*/
  } /*if (f2py_success) of nobins_out*/
  /* End of cleaning variable nobins_out */
  } /*CHECKSCALAR((len(e_in)-1)>=nvbins)*/
  } /*if (f2py_success) of nvbins*/
  /* End of cleaning variable nvbins */
  } /*CHECKSCALAR((len(ebin_edge_in)-1)>=nobins_in)*/
  } /*if (f2py_success) of nobins_in*/
  /* End of cleaning variable nobins_in */
  if((PyObject *)capi_matrix_tmp!=matrix_capi) {
    Py_XDECREF(capi_matrix_tmp); }
  }  /*if (capi_matrix_tmp == NULL) ... else of matrix*/
  /* End of cleaning variable matrix */
  if((PyObject *)capi_e_in_tmp!=e_in_capi) {
    Py_XDECREF(capi_e_in_tmp); }
  }  /*if (capi_e_in_tmp == NULL) ... else of e_in*/
  /* End of cleaning variable e_in */
  if((PyObject *)capi_ebin_edge_in_tmp!=ebin_edge_in_capi) {
    Py_XDECREF(capi_ebin_edge_in_tmp); }
  }  /*if (capi_ebin_edge_in_tmp == NULL) ... else of ebin_edge_in*/
  /* End of cleaning variable ebin_edge_in */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/***************** end of atscat_highres_ephoton_interpolator *****************/

/****************************** echan_integrator ******************************/
static char doc_f2py_rout_ftran_echan_integrator[] = "\
binned_matrix = echan_integrator(diff_matrix,edif_edge_lo,edif_edge_hi,nhbins,ebin_edge_out,[nobins_in,nobins_out])\n\nWrapper for ``echan_integrator``.\
\n\nParameters\n----------\n"
"diff_matrix : input rank-2 array('f') with bounds (nobins_in,64)\n"
"edif_edge_lo : input rank-2 array('f') with bounds (nobins_in,64)\n"
"edif_edge_hi : input rank-2 array('f') with bounds (nobins_in,64)\n"
"nhbins : input int\n"
"ebin_edge_out : input rank-1 array('f') with bounds (nobins_out + 1)\n"
"\nOther Parameters\n----------------\n"
"nobins_in : input int, optional\n    Default: shape(diff_matrix,0)\n"
"nobins_out : input int, optional\n    Default: (len(ebin_edge_out)-1)\n"
"\nReturns\n-------\n"
"binned_matrix : rank-2 array('f') with bounds (nobins_in,nobins_out)";
/* extern void F_FUNC_US(echan_integrator,ECHAN_INTEGRATOR)(int*,float*,float*,float*,int*,float*,int*,float*); */
static PyObject *f2py_rout_ftran_echan_integrator(const PyObject *capi_self,
                           PyObject *capi_args,
                           PyObject *capi_keywds,
                           void (*f2py_func)(int*,float*,float*,float*,int*,float*,int*,float*)) {
  PyObject * volatile capi_buildvalue = NULL;
  volatile int f2py_success = 1;
/*decl*/

  int nobins_in = 0;
  PyObject *nobins_in_capi = Py_None;
  float *diff_matrix = NULL;
  npy_intp diff_matrix_Dims[2] = {-1, -1};
  const int diff_matrix_Rank = 2;
  PyArrayObject *capi_diff_matrix_tmp = NULL;
  int capi_diff_matrix_intent = 0;
  PyObject *diff_matrix_capi = Py_None;
  float *edif_edge_lo = NULL;
  npy_intp edif_edge_lo_Dims[2] = {-1, -1};
  const int edif_edge_lo_Rank = 2;
  PyArrayObject *capi_edif_edge_lo_tmp = NULL;
  int capi_edif_edge_lo_intent = 0;
  PyObject *edif_edge_lo_capi = Py_None;
  float *edif_edge_hi = NULL;
  npy_intp edif_edge_hi_Dims[2] = {-1, -1};
  const int edif_edge_hi_Rank = 2;
  PyArrayObject *capi_edif_edge_hi_tmp = NULL;
  int capi_edif_edge_hi_intent = 0;
  PyObject *edif_edge_hi_capi = Py_None;
  int nhbins = 0;
  PyObject *nhbins_capi = Py_None;
  float *ebin_edge_out = NULL;
  npy_intp ebin_edge_out_Dims[1] = {-1};
  const int ebin_edge_out_Rank = 1;
  PyArrayObject *capi_ebin_edge_out_tmp = NULL;
  int capi_ebin_edge_out_intent = 0;
  PyObject *ebin_edge_out_capi = Py_None;
  int nobins_out = 0;
  PyObject *nobins_out_capi = Py_None;
  float *binned_matrix = NULL;
  npy_intp binned_matrix_Dims[2] = {-1, -1};
  const int binned_matrix_Rank = 2;
  PyArrayObject *capi_binned_matrix_tmp = NULL;
  int capi_binned_matrix_intent = 0;
  static char *capi_kwlist[] = {"diff_matrix","edif_edge_lo","edif_edge_hi","nhbins","ebin_edge_out","nobins_in","nobins_out",NULL};

/*routdebugenter*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_clock();
#endif
  if (!PyArg_ParseTupleAndKeywords(capi_args,capi_keywds,\
    "OOOOO|OO:ftran.echan_integrator",\
    capi_kwlist,&diff_matrix_capi,&edif_edge_lo_capi,&edif_edge_hi_capi,&nhbins_capi,&ebin_edge_out_capi,&nobins_in_capi,&nobins_out_capi))
    return NULL;
/*frompyobj*/
  /* Processing variable diff_matrix */
  diff_matrix_Dims[1]=64;
  capi_diff_matrix_intent |= F2PY_INTENT_IN;
  capi_diff_matrix_tmp = array_from_pyobj(NPY_FLOAT,diff_matrix_Dims,diff_matrix_Rank,capi_diff_matrix_intent,diff_matrix_capi);
  if (capi_diff_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 1st argument `diff_matrix' of ftran.echan_integrator to C/Fortran array" );
  } else {
    diff_matrix = (float *)(PyArray_DATA(capi_diff_matrix_tmp));

  /* Processing variable nhbins */
    f2py_success = int_from_pyobj(&nhbins,nhbins_capi,"ftran.echan_integrator() 4th argument (nhbins) can't be converted to int");
  if (f2py_success) {
  /* Processing variable ebin_edge_out */
  ;
  capi_ebin_edge_out_intent |= F2PY_INTENT_IN;
  capi_ebin_edge_out_tmp = array_from_pyobj(NPY_FLOAT,ebin_edge_out_Dims,ebin_edge_out_Rank,capi_ebin_edge_out_intent,ebin_edge_out_capi);
  if (capi_ebin_edge_out_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 5th argument `ebin_edge_out' of ftran.echan_integrator to C/Fortran array" );
  } else {
    ebin_edge_out = (float *)(PyArray_DATA(capi_ebin_edge_out_tmp));

  /* Processing variable nobins_in */
  if (nobins_in_capi == Py_None) nobins_in = shape(diff_matrix,0); else
    f2py_success = int_from_pyobj(&nobins_in,nobins_in_capi,"ftran.echan_integrator() 1st keyword (nobins_in) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR(shape(diff_matrix,0)==nobins_in,"shape(diff_matrix,0)==nobins_in","1st keyword nobins_in","echan_integrator:nobins_in=%d",nobins_in) {
  /* Processing variable edif_edge_lo */
  edif_edge_lo_Dims[0]=nobins_in,edif_edge_lo_Dims[1]=64;
  capi_edif_edge_lo_intent |= F2PY_INTENT_IN;
  capi_edif_edge_lo_tmp = array_from_pyobj(NPY_FLOAT,edif_edge_lo_Dims,edif_edge_lo_Rank,capi_edif_edge_lo_intent,edif_edge_lo_capi);
  if (capi_edif_edge_lo_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 2nd argument `edif_edge_lo' of ftran.echan_integrator to C/Fortran array" );
  } else {
    edif_edge_lo = (float *)(PyArray_DATA(capi_edif_edge_lo_tmp));

  /* Processing variable edif_edge_hi */
  edif_edge_hi_Dims[0]=nobins_in,edif_edge_hi_Dims[1]=64;
  capi_edif_edge_hi_intent |= F2PY_INTENT_IN;
  capi_edif_edge_hi_tmp = array_from_pyobj(NPY_FLOAT,edif_edge_hi_Dims,edif_edge_hi_Rank,capi_edif_edge_hi_intent,edif_edge_hi_capi);
  if (capi_edif_edge_hi_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting 3rd argument `edif_edge_hi' of ftran.echan_integrator to C/Fortran array" );
  } else {
    edif_edge_hi = (float *)(PyArray_DATA(capi_edif_edge_hi_tmp));

  /* Processing variable nobins_out */
  if (nobins_out_capi == Py_None) nobins_out = (len(ebin_edge_out)-1); else
    f2py_success = int_from_pyobj(&nobins_out,nobins_out_capi,"ftran.echan_integrator() 2nd keyword (nobins_out) can't be converted to int");
  if (f2py_success) {
  CHECKSCALAR((len(ebin_edge_out)-1)>=nobins_out,"(len(ebin_edge_out)-1)>=nobins_out","2nd keyword nobins_out","echan_integrator:nobins_out=%d",nobins_out) {
  /* Processing variable binned_matrix */
  binned_matrix_Dims[0]=nobins_in,binned_matrix_Dims[1]=nobins_out;
  capi_binned_matrix_intent |= F2PY_INTENT_OUT|F2PY_INTENT_HIDE;
  capi_binned_matrix_tmp = array_from_pyobj(NPY_FLOAT,binned_matrix_Dims,binned_matrix_Rank,capi_binned_matrix_intent,Py_None);
  if (capi_binned_matrix_tmp == NULL) {
    if (!PyErr_Occurred())
      PyErr_SetString(ftran_error,"failed in converting hidden `binned_matrix' of ftran.echan_integrator to C/Fortran array" );
  } else {
    binned_matrix = (float *)(PyArray_DATA(capi_binned_matrix_tmp));

/*end of frompyobj*/
#ifdef F2PY_REPORT_ATEXIT
f2py_start_call_clock();
#endif
/*callfortranroutine*/
        (*f2py_func)(&nobins_in,diff_matrix,edif_edge_lo,edif_edge_hi,&nhbins,ebin_edge_out,&nobins_out,binned_matrix);
if (PyErr_Occurred())
  f2py_success = 0;
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_call_clock();
#endif
/*end of callfortranroutine*/
    if (f2py_success) {
/*pyobjfrom*/
/*end of pyobjfrom*/
    CFUNCSMESS("Building return value.\n");
    capi_buildvalue = Py_BuildValue("N",capi_binned_matrix_tmp);
/*closepyobjfrom*/
/*end of closepyobjfrom*/
    } /*if (f2py_success) after callfortranroutine*/
/*cleanupfrompyobj*/
  }  /*if (capi_binned_matrix_tmp == NULL) ... else of binned_matrix*/
  /* End of cleaning variable binned_matrix */
  } /*CHECKSCALAR((len(ebin_edge_out)-1)>=nobins_out)*/
  } /*if (f2py_success) of nobins_out*/
  /* End of cleaning variable nobins_out */
  if((PyObject *)capi_edif_edge_hi_tmp!=edif_edge_hi_capi) {
    Py_XDECREF(capi_edif_edge_hi_tmp); }
  }  /*if (capi_edif_edge_hi_tmp == NULL) ... else of edif_edge_hi*/
  /* End of cleaning variable edif_edge_hi */
  if((PyObject *)capi_edif_edge_lo_tmp!=edif_edge_lo_capi) {
    Py_XDECREF(capi_edif_edge_lo_tmp); }
  }  /*if (capi_edif_edge_lo_tmp == NULL) ... else of edif_edge_lo*/
  /* End of cleaning variable edif_edge_lo */
  } /*CHECKSCALAR(shape(diff_matrix,0)==nobins_in)*/
  } /*if (f2py_success) of nobins_in*/
  /* End of cleaning variable nobins_in */
  if((PyObject *)capi_ebin_edge_out_tmp!=ebin_edge_out_capi) {
    Py_XDECREF(capi_ebin_edge_out_tmp); }
  }  /*if (capi_ebin_edge_out_tmp == NULL) ... else of ebin_edge_out*/
  /* End of cleaning variable ebin_edge_out */
  } /*if (f2py_success) of nhbins*/
  /* End of cleaning variable nhbins */
  if((PyObject *)capi_diff_matrix_tmp!=diff_matrix_capi) {
    Py_XDECREF(capi_diff_matrix_tmp); }
  }  /*if (capi_diff_matrix_tmp == NULL) ... else of diff_matrix*/
  /* End of cleaning variable diff_matrix */
/*end of cleanupfrompyobj*/
  if (capi_buildvalue == NULL) {
/*routdebugfailure*/
  } else {
/*routdebugleave*/
  }
  CFUNCSMESS("Freeing memory.\n");
/*freemem*/
#ifdef F2PY_REPORT_ATEXIT
f2py_stop_clock();
#endif
  return capi_buildvalue;
}
/************************** end of echan_integrator **************************/
/*eof body*/

/******************* See f2py2e/f90mod_rules.py: buildhooks *******************/
/*need_f90modhooks*/

/************** See f2py2e/rules.py: module_rules['modulebody'] **************/

/******************* See f2py2e/common_rules.py: buildhooks *******************/

static FortranDataDef f2py_stcom_def[] = {
  {"y",0,{{-1}},NPY_FLOAT},
  {NULL}
};
static void f2py_setup_stcom(char *y) {
  int i_f2py=0;
  f2py_stcom_def[i_f2py++].data = y;
}
extern void F_FUNC(f2pyinitstcom,F2PYINITSTCOM)(void(*)(char*));
static void f2py_init_stcom(void) {
  F_FUNC(f2pyinitstcom,F2PYINITSTCOM)(f2py_setup_stcom);
}

/*need_commonhooks*/

/**************************** See f2py2e/rules.py ****************************/

static FortranDataDef f2py_routine_defs[] = {
  {"trfind",-1,{{-1}},0,(char *)F_FUNC(trfind,TRFIND),(f2py_init_func)f2py_rout_ftran_trfind,doc_f2py_rout_ftran_trfind},
  {"jrand",-1,{{-1}},0,(char *)F_WRAPPEDFUNC(jrand,JRAND),(f2py_init_func)f2py_rout_ftran_jrand,doc_f2py_rout_ftran_jrand},
  {"lstptr",-1,{{-1}},0,(char *)F_WRAPPEDFUNC(lstptr,LSTPTR),(f2py_init_func)f2py_rout_ftran_lstptr,doc_f2py_rout_ftran_lstptr},
  {"store",-1,{{-1}},0,(char *)F_WRAPPEDFUNC(store,STORE),(f2py_init_func)f2py_rout_ftran_store,doc_f2py_rout_ftran_store},
  {"geocords",-1,{{-1}},0,(char *)F_FUNC(geocords,GEOCORDS),(f2py_init_func)f2py_rout_ftran_geocords,doc_f2py_rout_ftran_geocords},
  {"geo_to_space",-1,{{-1}},0,(char *)F_FUNC_US(geo_to_space,GEO_TO_SPACE),(f2py_init_func)f2py_rout_ftran_geo_to_space,doc_f2py_rout_ftran_geo_to_space},
  {"calc_sphere_dist",-1,{{-1}},0,(char *)F_FUNC_US(calc_sphere_dist,CALC_SPHERE_DIST),(f2py_init_func)f2py_rout_ftran_calc_sphere_dist,doc_f2py_rout_ftran_calc_sphere_dist},
  {"sum_at_scat",-1,{{-1}},0,(char *)F_FUNC_US(sum_at_scat,SUM_AT_SCAT),(f2py_init_func)f2py_rout_ftran_sum_at_scat,doc_f2py_rout_ftran_sum_at_scat},
  {"highres_ephoton_interpolator",-1,{{-1}},0,(char *)F_FUNC_US(highres_ephoton_interpolator,HIGHRES_EPHOTON_INTERPOLATOR),(f2py_init_func)f2py_rout_ftran_highres_ephoton_interpolator,doc_f2py_rout_ftran_highres_ephoton_interpolator},
  {"atscat_highres_ephoton_interpolator",-1,{{-1}},0,(char *)F_FUNC_US(atscat_highres_ephoton_interpolator,ATSCAT_HIGHRES_EPHOTON_INTERPOLATOR),(f2py_init_func)f2py_rout_ftran_atscat_highres_ephoton_interpolator,doc_f2py_rout_ftran_atscat_highres_ephoton_interpolator},
  {"echan_integrator",-1,{{-1}},0,(char *)F_FUNC_US(echan_integrator,ECHAN_INTEGRATOR),(f2py_init_func)f2py_rout_ftran_echan_integrator,doc_f2py_rout_ftran_echan_integrator},

/*eof routine_defs*/
  {NULL}
};

static PyMethodDef f2py_module_methods[] = {

  {NULL,NULL}
};

#if PY_VERSION_HEX >= 0x03000000
static struct PyModuleDef moduledef = {
  PyModuleDef_HEAD_INIT,
  "ftran",
  NULL,
  -1,
  f2py_module_methods,
  NULL,
  NULL,
  NULL,
  NULL
};
#endif

#if PY_VERSION_HEX >= 0x03000000
#define RETVAL m
PyMODINIT_FUNC PyInit_ftran(void) {
#else
#define RETVAL
PyMODINIT_FUNC initftran(void) {
#endif
  int i;
  PyObject *m,*d, *s, *tmp;
#if PY_VERSION_HEX >= 0x03000000
  m = ftran_module = PyModule_Create(&moduledef);
#else
  m = ftran_module = Py_InitModule("ftran", f2py_module_methods);
#endif
  Py_TYPE(&PyFortran_Type) = &PyType_Type;
  import_array();
  if (PyErr_Occurred())
    {PyErr_SetString(PyExc_ImportError, "can't initialize module ftran (failed to import numpy)"); return RETVAL;}
  d = PyModule_GetDict(m);
  s = PyString_FromString("$Revision: $");
  PyDict_SetItemString(d, "__version__", s);
#if PY_VERSION_HEX >= 0x03000000
  s = PyUnicode_FromString(
#else
  s = PyString_FromString(
#endif
    "This module 'ftran' is auto-generated with f2py (version:2).\nFunctions:\n"
"  b1,b2,b3,i1,i2,i3 = trfind(nst,p,n,x,y,z,list,lptr,lend)\n"
"  jrand = jrand(n,ix,iy,iz)\n"
"  lstptr = lstptr(lpl,nb,list,lptr)\n"
"  store = store(x)\n"
"  gx,gy,gz,sl = geocords(theta_geo,phi_geo,theta_source,phi_source)\n"
"  dirx,diry,dirz,az,el = geo_to_space(theta_u,phi_u,gx,gy,gz)\n"
"  dist = calc_sphere_dist(ra1,dec1,ra2,dec2)\n"
"  out_matrix = sum_at_scat(direct_diff_matrix,at_scat_data_lo,at_scat_data_hi,l_fract,ienerg=shape(direct_diff_matrix,0),nobins_out=shape(direct_diff_matrix,1))\n"
"  new_epx_lo,new_epx_hi,diff_matrix = highres_ephoton_interpolator(ebin_edge_in,ein,matrix,edif_edge_lo,edif_edge_hi,nhbins,nobins_in=len(ebin_edge_in),nvbins=(len(ein)-1))\n"
"  new_matrix = atscat_highres_ephoton_interpolator(ebin_edge_in,e_in,matrix,nobins_in=(len(ebin_edge_in)-1),nvbins=(len(e_in)-1),nobins_out=shape(matrix,1))\n"
"  binned_matrix = echan_integrator(diff_matrix,edif_edge_lo,edif_edge_hi,nhbins,ebin_edge_out,nobins_in=shape(diff_matrix,0),nobins_out=(len(ebin_edge_out)-1))\n"
"COMMON blocks:\n""  /stcom/ y\n"".");
  PyDict_SetItemString(d, "__doc__", s);
  ftran_error = PyErr_NewException ("ftran.error", NULL, NULL);
  Py_DECREF(s);
  for(i=0;f2py_routine_defs[i].name!=NULL;i++) {
    tmp = PyFortranObject_NewAsAttr(&f2py_routine_defs[i]);
    PyDict_SetItemString(d, f2py_routine_defs[i].name, tmp);
    Py_DECREF(tmp);
  }


    {
      extern int F_FUNC(jrand,JRAND)(void);
      PyObject* o = PyDict_GetItemString(d,"jrand");
      PyObject_SetAttrString(o,"_cpointer", F2PyCapsule_FromVoidPtr((void*)F_FUNC(jrand,JRAND),NULL));
#if PY_VERSION_HEX >= 0x03000000
      PyObject_SetAttrString(o,"__name__", PyUnicode_FromString("jrand"));
#else
      PyObject_SetAttrString(o,"__name__", PyString_FromString("jrand"));
#endif
    }
    

    {
      extern int F_FUNC(lstptr,LSTPTR)(void);
      PyObject* o = PyDict_GetItemString(d,"lstptr");
      PyObject_SetAttrString(o,"_cpointer", F2PyCapsule_FromVoidPtr((void*)F_FUNC(lstptr,LSTPTR),NULL));
#if PY_VERSION_HEX >= 0x03000000
      PyObject_SetAttrString(o,"__name__", PyUnicode_FromString("lstptr"));
#else
      PyObject_SetAttrString(o,"__name__", PyString_FromString("lstptr"));
#endif
    }
    

    {
      extern float F_FUNC(store,STORE)(void);
      PyObject* o = PyDict_GetItemString(d,"store");
      PyObject_SetAttrString(o,"_cpointer", F2PyCapsule_FromVoidPtr((void*)F_FUNC(store,STORE),NULL));
#if PY_VERSION_HEX >= 0x03000000
      PyObject_SetAttrString(o,"__name__", PyUnicode_FromString("store"));
#else
      PyObject_SetAttrString(o,"__name__", PyString_FromString("store"));
#endif
    }
    







/*eof initf2pywraphooks*/
/*eof initf90modhooks*/

  F2PyDict_SetItemString(d, "stcom", PyFortranObject_New(f2py_stcom_def,f2py_init_stcom));
/*eof initcommonhooks*/


#ifdef F2PY_REPORT_ATEXIT
  if (! PyErr_Occurred())
    on_exit(f2py_report_on_exit,(void*)"ftran");
#endif

  return RETVAL;
}
#ifdef __cplusplus
}
#endif
