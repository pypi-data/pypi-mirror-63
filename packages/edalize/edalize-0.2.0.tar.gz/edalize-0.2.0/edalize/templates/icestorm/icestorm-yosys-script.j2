# Auto-generated by Edalize

{% for k, v in vlogdefine.items() %}
verilog_defines -D{{k }}={{ v|param_value_str }}
{% endfor -%}

verilog_defaults -push
verilog_defaults -add -defer
{% if incdirs -%}
verilog_defaults -add -I{{ incdirs|join(' -I') }}
{% for src_file in src_files if src_file|src_file_filter%}
{{ src_file|src_file_filter }}
{% endfor %}
{% for k, v in vlogparam.items() %}
chparam -set {{ k }} {{ v|param_value_str }} $abstract\{{ toplevel }}
{% endfor -%}
{%- endif %}
verilog_defaults -pop
synth_ice40 {{ synth_options|join(' ') }} -blif {{ name }}.blif -top {{ toplevel }}
write_json {{ name }}.json
