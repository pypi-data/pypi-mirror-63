# Generated by Django 2.1 on 2018-10-06 23:03

from django.db import migrations
from edc_action_item.data_fixers import fix_null_historical_action_identifier
from edc_action_item.data_fixers import fix_duplicate_singleton_action_items

from ..action_items import DEATH_REPORT_ACTION


def fix(apps, schema_editor):

    fix_null_historical_action_identifier(
        app_label="ambition_prn",
        models=[
            "deathreport",
            "deathreporttmg",
            "studyterminationconclusion",
            "studyterminationconclusionw10",
            "protocoldeviationviolation",
        ],
    )

    fix_duplicate_singleton_action_items(apps, name=DEATH_REPORT_ACTION)


class Migration(migrations.Migration):

    dependencies = [
        ("ambition_prn", "0009_auto_20181009_0545"),
        ("edc_registration", "0015_auto_20181006_2257"),
    ]

    operations = [migrations.RunPython(fix)]
