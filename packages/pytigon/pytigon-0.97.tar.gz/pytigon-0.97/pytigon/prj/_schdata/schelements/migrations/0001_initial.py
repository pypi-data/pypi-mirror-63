# Generated by Django 2.2.7 on 2019-11-10 17:17

import datetime
from django.db import migrations, models
import django.db.models.deletion
import pytigon_lib.schdjangoext.fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0011_update_proxy_permissions'),
    ]

    operations = [
        migrations.CreateModel(
            name='Account',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type1', models.CharField(blank=True, choices=[('S', 'Synthetic'), ('A', 'Analytical')], editable=False, max_length=1, null=True, verbose_name='Type 1')),
                ('type2', models.CharField(blank=True, choices=[('B', 'Balance'), ('O', 'Off-balance'), ('N', 'Non-financial')], max_length=1, null=True, verbose_name='Type 2')),
                ('name', models.CharField(max_length=32, verbose_name='Name')),
                ('description', models.CharField(max_length=256, verbose_name='Description')),
                ('enabled', pytigon_lib.schdjangoext.fields.NullBooleanField(default=True, verbose_name='Enabled')),
                ('parent', pytigon_lib.schdjangoext.fields.TreeForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.Account', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Account',
                'verbose_name_plural': 'Account',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='DocHead',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('jsondata', models.TextField(blank=True, editable=False, null=True, verbose_name='Json data')),
                ('number', models.CharField(blank=True, max_length=32, null=True, verbose_name='Document number')),
                ('description', models.CharField(blank=True, max_length=64, null=True, verbose_name='Description')),
                ('date', models.DateTimeField(editable=False, verbose_name='Date')),
                ('status', models.CharField(blank=True, editable=False, max_length=16, null=True, verbose_name='Status')),
                ('operator', models.CharField(blank=True, editable=False, max_length=32, null=True, verbose_name='Operator')),
                ('param1', models.CharField(blank=True, max_length=16, null=True, verbose_name='Parameter 1')),
                ('param2', models.CharField(blank=True, max_length=16, null=True, verbose_name='Parameter 2')),
                ('param3', models.CharField(blank=True, max_length=16, null=True, verbose_name='Parameter 3')),
            ],
            options={
                'verbose_name': 'Document header',
                'verbose_name_plural': 'Document headers',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='DocReg',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('app', models.CharField(max_length=16, verbose_name='Application')),
                ('name', models.CharField(max_length=32, verbose_name='Name')),
                ('group', models.CharField(blank=True, max_length=64, null=True, verbose_name='Group')),
                ('description', models.CharField(max_length=64, verbose_name='Description')),
                ('head_form', models.TextField(blank=True, editable=False, null=True, verbose_name='Head form')),
                ('item_form', models.TextField(blank=True, editable=False, null=True, verbose_name='Item form')),
                ('save_head_fun', models.TextField(blank=True, editable=False, null=True, verbose_name='Save head function')),
                ('save_item_fun', models.TextField(blank=True, editable=False, null=True, verbose_name='Save item function')),
            ],
            options={
                'verbose_name': 'Document register',
                'verbose_name_plural': 'Document registers',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='Element',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('jsondata', models.TextField(blank=True, editable=False, null=True, verbose_name='Json data')),
                ('type', models.CharField(choices=[('C', 'Currency'), ('M', 'Material'), ('D', 'Device'), ('I', 'Intellectual'), ('S', 'Service'), ('R', 'Raw material'), ('N', 'Intermediate'), ('P', 'Product'), ('DI', 'Device IT'), ('DP', 'Production machine'), ('DV', 'Vehicle')], max_length=3, verbose_name='Element type')),
                ('name', models.CharField(max_length=64, verbose_name='Name')),
                ('description', models.CharField(blank=True, max_length=256, null=True, verbose_name='Description')),
            ],
            options={
                'verbose_name': 'Element',
                'verbose_name_plural': 'Element',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='OrgChartElem',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('F', 'Firm'), ('D', 'Division'), ('R', 'Department'), ('S', 'Position'), ('E', 'Employee'), ('L', 'Location'), ('O', 'Other'), ('P', 'Person'), ('M', 'Machine')], max_length=1, verbose_name='Organisation type')),
                ('code', models.CharField(blank=True, max_length=16, null=True, verbose_name='Code')),
                ('name', models.CharField(max_length=64, verbose_name='Name')),
                ('description', models.CharField(blank=True, max_length=64, null=True, verbose_name='Description')),
                ('grand_parent1', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='grandparent1', to='schelements.OrgChartElem', verbose_name='Grand parent 1')),
                ('grand_parent2', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='grandparent2', to='schelements.OrgChartElem', verbose_name='Grand parent 2')),
                ('grand_parent3', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='grandparent3', to='schelements.OrgChartElem', verbose_name='Grand parent 3')),
                ('grand_parent4', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='grandparent4', to='schelements.OrgChartElem', verbose_name='Grand parent 4')),
                ('key', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='auth.Group')),
                ('parent', pytigon_lib.schdjangoext.fields.TreeForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.OrgChartElem', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Organizational chart',
                'verbose_name_plural': 'Organizational chart',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='DocType',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=16, verbose_name='Name')),
                ('description', models.CharField(max_length=64, verbose_name='Description')),
                ('correction', pytigon_lib.schdjangoext.fields.NullBooleanField(verbose_name='Correction')),
                ('head_form', models.TextField(blank=True, editable=False, null=True, verbose_name='Head form')),
                ('item_form', models.TextField(blank=True, editable=False, null=True, verbose_name='Item form')),
                ('save_head_fun', models.TextField(blank=True, editable=False, null=True, verbose_name='Save head function')),
                ('save_item_fun', models.TextField(blank=True, editable=False, null=True, verbose_name='Save item function')),
                ('doctype_status', models.CharField(blank=True, choices=[('0', 'Disabled'), ('1', 'Activ')], max_length=1, null=True, verbose_name='Status of document type')),
                ('parent', pytigon_lib.schdjangoext.fields.HiddenForeignKey(on_delete=django.db.models.deletion.CASCADE, to='schelements.DocReg', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Type of document',
                'verbose_name_plural': 'Types of documents',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='DocRegStatus',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order', models.IntegerField(verbose_name='Order')),
                ('name', models.CharField(max_length=16, verbose_name='Name')),
                ('description', models.CharField(blank=True, max_length=64, null=True, verbose_name='Description')),
                ('icon', models.CharField(blank=True, max_length=64, null=True, verbose_name='Icon')),
                ('accept_proc', models.TextField(blank=True, editable=False, null=True, verbose_name='Accept status procedure')),
                ('undo_proc', models.TextField(blank=True, editable=False, null=True, verbose_name='Undo status procedure')),
                ('can_set_proc', models.TextField(blank=True, editable=False, null=True, verbose_name='Check if status can be set')),
                ('can_undo_proc', models.TextField(blank=True, editable=False, null=True, verbose_name='Check if status can be removed')),
                ('parent', pytigon_lib.schdjangoext.fields.HiddenForeignKey(on_delete=django.db.models.deletion.CASCADE, to='schelements.DocReg', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Document status',
                'verbose_name_plural': 'Document status',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='DocItem',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('jsondata', models.TextField(blank=True, editable=False, null=True, verbose_name='Json data')),
                ('order', models.IntegerField(default=1, editable=False, verbose_name='Order')),
                ('date', models.DateField(editable=False, verbose_name='Date')),
                ('description', models.CharField(blank=True, max_length=255, null=True, verbose_name='Description')),
                ('amount', models.DecimalField(blank=True, decimal_places=2, max_digits=16, null=True, verbose_name='Amount')),
                ('level', models.IntegerField(default=0, editable=False, verbose_name='Level')),
                ('param1', models.CharField(blank=True, editable=False, max_length=16, null=True, verbose_name='Parameter 1')),
                ('param2', models.CharField(blank=True, editable=False, max_length=16, null=True, verbose_name='Parameter 2')),
                ('param3', models.CharField(blank=True, editable=False, max_length=16, null=True, verbose_name='Parameter 3')),
                ('element', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.Element', verbose_name='Element')),
                ('parent', pytigon_lib.schdjangoext.fields.HiddenForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, to='schelements.DocHead', verbose_name='Parent')),
                ('parent_item', pytigon_lib.schdjangoext.fields.HiddenForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.DocItem', verbose_name='Parent item')),
            ],
            options={
                'verbose_name': 'Document item',
                'verbose_name_plural': 'Document items',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='DocHeadStatus',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('jsondata', models.TextField(blank=True, editable=False, null=True, verbose_name='Json data')),
                ('date', models.DateTimeField(verbose_name='Date')),
                ('name', models.CharField(max_length=16, verbose_name='Name')),
                ('description', models.CharField(blank=True, editable=False, max_length=64, null=True, verbose_name='Description')),
                ('operator', models.CharField(blank=True, max_length=32, null=True, verbose_name='Operator')),
                ('parent', pytigon_lib.schdjangoext.fields.HiddenForeignKey(on_delete=django.db.models.deletion.CASCADE, to='schelements.DocHead', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Document head status',
                'verbose_name_plural': 'Documents head status',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.AddField(
            model_name='dochead',
            name='doc_type_parent',
            field=pytigon_lib.schdjangoext.fields.HiddenForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, to='schelements.DocType', verbose_name='Document type parent'),
        ),
        migrations.AddField(
            model_name='dochead',
            name='org_chart_parent',
            field=pytigon_lib.schdjangoext.fields.HiddenForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.OrgChartElem', verbose_name='Organization chart parent'),
        ),
        migrations.AddField(
            model_name='dochead',
            name='parents',
            field=models.ManyToManyField(editable=False, related_name='_dochead_parents_+', to='schelements.DocHead', verbose_name='Parents'),
        ),
        migrations.CreateModel(
            name='Classifier',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=32, verbose_name='Name')),
                ('description', models.CharField(max_length=64, verbose_name='Description')),
                ('parent', pytigon_lib.schdjangoext.fields.TreeForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.Classifier', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Classifier',
                'verbose_name_plural': 'Classifier',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='AccountState',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period', models.CharField(blank=True, max_length=10, null=True, verbose_name='Period')),
                ('subcode', models.CharField(blank=True, max_length=16, null=True, verbose_name='Subcode')),
                ('debit', models.DecimalField(decimal_places=2, max_digits=16, verbose_name='Debit')),
                ('credit', models.DecimalField(decimal_places=2, max_digits=16, verbose_name='Credit')),
                ('aggregate', pytigon_lib.schdjangoext.fields.NullBooleanField(default=False, verbose_name='Aggregate')),
                ('classifier1value', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='account_c1_set', to='schelements.Classifier', verbose_name='Classifier 1 value')),
                ('classifier2value', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='account_c2_set', to='schelements.Classifier', verbose_name='Classifier 2 value')),
                ('classifier3value', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='account_c3_set', to='schelements.Classifier', verbose_name='Classifier 3 value')),
                ('element', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='schelements.Element', verbose_name='Element')),
                ('parent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='schelements.Account', verbose_name='Parent')),
                ('target', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='schelements.OrgChartElem', verbose_name='Target')),
            ],
            options={
                'verbose_name': 'State of account',
                'verbose_name_plural': 'States of account',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.CreateModel(
            name='AccountOperation',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=datetime.datetime.now, editable=False, verbose_name='Date')),
                ('description', models.CharField(max_length=255, verbose_name='Description')),
                ('payment', models.CharField(blank=True, max_length=64, null=True, verbose_name='Name of payment')),
                ('sign', models.IntegerField(verbose_name='Sign - debit or credit')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16, verbose_name='Amount')),
                ('enabled', pytigon_lib.schdjangoext.fields.NullBooleanField(default=False, editable=False, verbose_name='Enabled')),
                ('account_state', pytigon_lib.schdjangoext.fields.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='accountoper_set', to='schelements.AccountState', verbose_name='Account state')),
                ('parent', pytigon_lib.schdjangoext.fields.HiddenForeignKey(on_delete=django.db.models.deletion.CASCADE, to='schelements.DocItem', verbose_name='Parent')),
            ],
            options={
                'verbose_name': 'Account operation',
                'verbose_name_plural': 'Account operations',
                'ordering': ['id'],
                'default_permissions': ('add', 'change', 'delete', 'list'),
            },
        ),
        migrations.AddField(
            model_name='account',
            name='root_classifier1',
            field=pytigon_lib.schdjangoext.fields.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='baseaccount_rc1_set', to='schelements.Classifier', verbose_name='Root classifier 1'),
        ),
        migrations.AddField(
            model_name='account',
            name='root_classifier2',
            field=pytigon_lib.schdjangoext.fields.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='baseaccount_rc2_set', to='schelements.Classifier', verbose_name='Root classifier 2'),
        ),
        migrations.AddField(
            model_name='account',
            name='root_classifier3',
            field=pytigon_lib.schdjangoext.fields.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='baseaccount_rc3_set', to='schelements.Classifier', verbose_name='Root classifier 3'),
        ),
    ]
