language: python
python:
- '3.5'
install:
- pip install .[test]
jobs:
  include:
  - stage: lint
    script: flake8 ./srem/*.py
  - stage: type check
    script: mypy ./srem/*.py
  - stage: unit test
    script: pytest tests
deploy:
  provider: pypi
  user: oyam
  password:
    secure: YbX2N7wcIExNNqwH58AOkc7I8+ERm+Znl7liS8wbHwfxeO8YtnV2OoY4cJS/0lhw5LflQzAXlgU2KbhJdvCxPP8ugEM3aBfmkAeLKKHJOgz379D4XBBThVkyKy0ztnoZBFLni5Zt1Fkgw8KfXKmMHYCNWdm+xrLS0rksrizCVEM0BtxGTjls8xQr5cV94CbrulhlnaBznWeW85xio41NM788icTs+0+GK0NkH18itX4qf0JKGcRvrwpBaWSy+iwyRKs+gs9qiB3akSYpPxOLPW4xH2ZXd6I3hwezp98FvSLvKx1nLQ7nWODEYCBHhTEm7FjZ0jBOWUhPrP5rQt81OQoheTyYf2ZdDWtgwLPzQ4iIw76ROxOXnQnE8xAHRN1FhxpW8H4UcuYMCQlvKVf2BSm/ajqekCBoo604ZdLc4ERQFAZg8gTLwXTa55MDnO1tVL0s8YONsDFiSZFsvZNkkQGz//1jZukBQYfQPiBTkf5dUMfTn2neyYeY5ijCsLYNjPYrpN5Gb90c9WqqxJbCKPMR5eRlTUEUbwdvGz9rj8Xl5gRgbUbxavYXLJfNnSXe7peChL/9vfln6Yy990IWwAt8GXikjAwyZvujlZawiipei0kAq0X6HMxHIVDJt9VHK/EURbpG34JmDnnt57FEn35+/8coKYtrkqvm4/o16Yw=
  edge: true
  on:
    tags: true
