(self.webpackJsonp=self.webpackJsonp||[]).push([[225],{310:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return d}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return g}),n.d(t,"j",function(){return u}),n.d(t,"i",function(){return w});var o=n(195),i=n(19);const r=["unignore","homekit","ssdp","zeroconf"],c=(e,t)=>e.callApi("POST","config/config_entries/flow",{handler:t}),l=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`),a=(e,t,n)=>e.callApi("POST",`config/config_entries/flow/${t}`,n),d=(e,t)=>e.callWS({type:"config_entries/ignore_flow",flow_id:t}),s=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),f=e=>e.callApi("GET","config/config_entries/flow_handlers"),h=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),p=(e,t)=>e.subscribeEvents(Object(o.a)(()=>h(e).then(e=>t.setState(e,!0)),500,!0),"config_entry_discovered"),g=e=>Object(i.b)(e,"_configFlowProgress",h,p),u=(e,t)=>g(e.connection).subscribe(t),w=(e,t)=>{const n=t.context.title_placeholders||{},o=Object.keys(n);if(0===o.length)return e(`component.${t.handler}.config.title`);const i=[];return o.forEach(e=>{i.push(e),i.push(n[e])}),e(`component.${t.handler}.config.flow_title`,...i)}},322:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var o=n(12);const i=()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(44)]).then(n.bind(null,417)),r=(e,t,n)=>{Object(o.a)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:i,dialogParams:Object.assign({},t,{flowConfig:n})})}},332:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return d});var o=n(310),i=n(0),r=n(62),c=n(322),l=n(202);const a=c.a,d=(e,t)=>Object(c.b)(e,t,{loadDevicesAndAreas:!0,getFlowHandlers:e=>Object(o.e)(e).then(t=>t.sort((t,n)=>Object(l.a)(e.localize(`component.${t}.config.title`),e.localize(`component.${n}.config.title`)))),createFlow:o.b,fetchFlow:o.d,handleFlowStep:o.g,deleteFlow:o.c,renderAbortDescription(e,t){const n=Object(r.b)(e.localize,`component.${t.handler}.config.abort.${t.reason}`,t.description_placeholders);return n?i.f`
            <ha-markdown allowsvg .content=${n}></ha-markdown>
          `:""},renderShowFormStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`),renderShowFormStepDescription(e,t){const n=Object(r.b)(e.localize,`component.${t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return n?i.f`
            <ha-markdown allowsvg .content=${n}></ha-markdown>
          `:""},renderShowFormStepFieldLabel:(e,t,n)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.data.${n.name}`),renderShowFormStepFieldError:(e,t,n)=>e.localize(`component.${t.handler}.config.error.${n}`),renderExternalStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`),renderExternalStepDescription(e,t){const n=Object(r.b)(e.localize,`component.${t.handler}.config.${t.step_id}.description`,t.description_placeholders);return i.f`
        <p>
          ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")}
        </p>
        ${n?i.f`
              <ha-markdown allowsvg .content=${n}></ha-markdown>
            `:""}
      `},renderCreateEntryDescription(e,t){const n=Object(r.b)(e.localize,`component.${t.handler}.config.create_entry.${t.description||"default"}`,t.description_placeholders);return i.f`
        ${n?i.f`
              <ha-markdown allowsvg .content=${n}></ha-markdown>
            `:""}
        <p>
          ${e.localize("ui.panel.config.integrations.config_flow.created_config","name",t.title)}
        </p>
      `}})},845:function(e,t,n){"use strict";n.r(t);var o=n(332);customElements.define("hui-ais-files-list-card",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}setConfig(e){if(!e.entity)throw new Error("Please define an entity");const t=this.shadowRoot;t.lastChild&&t.removeChild(t.lastChild);const n=e,o=document.createElement("ha-card"),i=document.createElement("div"),r=document.createElement("style");r.textContent="\n            tr{\n              height: 3em;\n            }\n            table {\n              width: 100%;\n              padding: 0 16px 16px 16px;\n              border-spacing: 0px;\n              table-layout: fixed;\n              overflow-wrap: break-word;\n            }\n            tr.fileRow:hover td{\n              background-color:#ffc9471f;\n              cursor: pointer;\n            }\n            tr th{\n              text-align: left;\n              font-weight: normal;\n            }\n            ha-icon {\n              display: flex;\n              width: auto;\n            }\n            tr.fileSelected td{\n              background-color:#ffc94773 !important;\n            }\n            tr.fileClicked td{\n              background-color:#ff9800eb !important;\n              cursor: wait !important;\n            }\n          ",i.id="container",o.header=n.title,o.appendChild(i),o.appendChild(r),t.appendChild(o),this._config=n}set hass(e){const t=this._config,n=this.shadowRoot;if(e.states[t.entity]){const o=e.states[t.entity].attributes.files,r=e.states[t.entity].state;this.style.display="block";const c=t.row_limit?t.row_limit:Object.keys(o).length;let l=0;if(void 0!==o&&Object.keys(o).length>0){let t,a='<table><tr style="height:0px"><th width="10%">'+(t=r.length>0?'<ha-icon icon="mdi:home"></ha-icon>':"")+'</th><th width="80%">'+r+'</th><th width="10%"></th></tr><tbody>',d="",s="";for(var i=0;i<o.length&&!(l>=c);i++)r.length>0&&o[i].path.endsWith(r)?(d='<ha-icon icon="mdi:play"></ha-icon>',s="fileSelected"):(d="",s=""),a+='<tr class="fileRow '+s+`" data-path="${o[i].path}">`,a+=`<td><ha-icon icon="mdi:${o[i].icon}"></ha-icon></td>`,a+=`<td>${o[i].name}</td>`,a+="<td>"+d+"</td>",a+="</tr>",++l;"/dyski-zdalne"===r&&(a+='<tr style="height:1em">',a+='<td colspan="3" style="text-align:right;"><mwc-button id="addNewDrive" style="float:right">+ DYSK ZDALNY</mwc-button></td>',a+="</tr>"),n.lastChild.hass=e,a+="</tbody></table>",n.getElementById("container").innerHTML=a}else this.style.display="none"}else this.style.display="none";const r=n.querySelectorAll("tr.fileRow"),c=document.createElement("ha-icon");c.setAttribute("icon","mdi:progress-download"),r.forEach(t=>{t.addEventListener("click",()=>{t.classList.add("fileSelected","fileClicked"),t.querySelector("td:last-child").appendChild(c),e.callService("ais_drives_service","browse_path",{path:t.getAttribute("data-path")})})});const l=n.getElementById("addNewDrive");null!==l&&l.addEventListener("click",function(){e.callApi("POST","config/config_entries/flow",{handler:"ais_drives_service"}).then(e=>{!function(e){Object(o.b)(document.querySelector("home-assistant"),{continueFlowId:e,dialogClosedCallback:()=>{}})}(e.flow_id)})})}getCardSize(){return 4}})}}]);
//# sourceMappingURL=chunk.ee6421ec9f9dbd08ed30.js.map