(self.webpackJsonp=self.webpackJsonp||[]).push([[217],{308:function(n,t,e){"use strict";e.d(t,"a",function(){return c}),e.d(t,"b",function(){return i}),e.d(t,"d",function(){return a}),e.d(t,"g",function(){return l}),e.d(t,"h",function(){return u}),e.d(t,"c",function(){return f}),e.d(t,"e",function(){return s}),e.d(t,"f",function(){return h}),e.d(t,"j",function(){return b}),e.d(t,"i",function(){return g});var o=e(196),r=e(19),c=["unignore","homekit","ssdp","zeroconf"],i=function(n,t){return n.callApi("POST","config/config_entries/flow",{handler:t})},a=function(n,t){return n.callApi("GET","config/config_entries/flow/".concat(t))},l=function(n,t,e){return n.callApi("POST","config/config_entries/flow/".concat(t),e)},u=function(n,t){return n.callWS({type:"config_entries/ignore_flow",flow_id:t})},f=function(n,t){return n.callApi("DELETE","config/config_entries/flow/".concat(t))},s=function(n){return n.callApi("GET","config/config_entries/flow_handlers")},d=function(n){return n.sendMessagePromise({type:"config_entries/flow/progress"})},p=function(n,t){return n.subscribeEvents(Object(o.a)(function(){return d(n).then(function(n){return t.setState(n,!0)})},500,!0),"config_entry_discovered")},h=function(n){return Object(r.b)(n,"_configFlowProgress",d,p)},b=function(n,t){return h(n.connection).subscribe(t)},g=function(n,t){var e=t.context.title_placeholders||{},o=Object.keys(e);if(0===o.length)return n("component.".concat(t.handler,".config.title"));var r=[];return o.forEach(function(n){r.push(n),r.push(e[n])}),n.apply(void 0,["component.".concat(t.handler,".config.flow_title")].concat(r))}},320:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return c});var o=e(12),r=function(){return Promise.all([e.e(0),e.e(1),e.e(2),e.e(3),e.e(49)]).then(e.bind(null,415))},c=function(n,t,e){Object(o.a)(n,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:r,dialogParams:Object.assign({},t,{flowConfig:e})})}},330:function(n,t,e){"use strict";e.d(t,"a",function(){return b}),e.d(t,"b",function(){return g});var o=e(308),r=e(0),c=e(62),i=e(320),a=e(203);function l(){var n=h(["\n              <ha-markdown allowsvg .content=","></ha-markdown>\n            "]);return l=function(){return n},n}function u(){var n=h(["\n        ","\n        <p>\n          ","\n        </p>\n      "]);return u=function(){return n},n}function f(){var n=h(["\n              <ha-markdown allowsvg .content=","></ha-markdown>\n            "]);return f=function(){return n},n}function s(){var n=h(["\n        <p>\n          ","\n        </p>\n        ","\n      "]);return s=function(){return n},n}function d(){var n=h(["\n            <ha-markdown allowsvg .content=","></ha-markdown>\n          "]);return d=function(){return n},n}function p(){var n=h(["\n            <ha-markdown allowsvg .content=","></ha-markdown>\n          "]);return p=function(){return n},n}function h(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var b=i.a,g=function(n,t){return Object(i.b)(n,t,{loadDevicesAndAreas:!0,getFlowHandlers:function(n){return Object(o.e)(n).then(function(t){return t.sort(function(t,e){return Object(a.a)(n.localize("component.".concat(t,".config.title")),n.localize("component.".concat(e,".config.title")))})})},createFlow:o.b,fetchFlow:o.d,handleFlowStep:o.g,deleteFlow:o.c,renderAbortDescription:function(n,t){var e=Object(c.b)(n.localize,"component.".concat(t.handler,".config.abort.").concat(t.reason),t.description_placeholders);return e?Object(r.f)(p(),e):""},renderShowFormStepHeader:function(n,t){return n.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".title"))},renderShowFormStepDescription:function(n,t){var e=Object(c.b)(n.localize,"component.".concat(t.handler,".config.step.").concat(t.step_id,".description"),t.description_placeholders);return e?Object(r.f)(d(),e):""},renderShowFormStepFieldLabel:function(n,t,e){return n.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".data.").concat(e.name))},renderShowFormStepFieldError:function(n,t,e){return n.localize("component.".concat(t.handler,".config.error.").concat(e))},renderExternalStepHeader:function(n,t){return n.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".title"))},renderExternalStepDescription:function(n,t){var e=Object(c.b)(n.localize,"component.".concat(t.handler,".config.").concat(t.step_id,".description"),t.description_placeholders);return Object(r.f)(s(),n.localize("ui.panel.config.integrations.config_flow.external_step.description"),e?Object(r.f)(f(),e):"")},renderCreateEntryDescription:function(n,t){var e=Object(c.b)(n.localize,"component.".concat(t.handler,".config.create_entry.").concat(t.description||"default"),t.description_placeholders);return Object(r.f)(u(),e?Object(r.f)(l(),e):"",n.localize("ui.panel.config.integrations.config_flow.created_config","name",t.title))}})}},846:function(n,t,e){"use strict";e.r(t);var o=e(330);function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function c(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function i(n,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function a(n){var t="function"==typeof Map?new Map:void 0;return(a=function(n){if(null===n||(e=n,-1===Function.toString.call(e).indexOf("[native code]")))return n;var e;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return l(n,arguments,f(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,n)})(n)}function l(n,t,e){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}()?Reflect.construct:function(n,t,e){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(n,o));return e&&u(r,e.prototype),r}).apply(null,arguments)}function u(n,t){return(u=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function f(n){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var s=function(n){function t(){var n;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,f(t).call(this))).attachShadow({mode:"open"}),n}var e,r,l;return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&u(n,t)}(t,a(HTMLElement)),e=t,(r=[{key:"setConfig",value:function(n){if(!n.entity)throw new Error("Please define an entity");var t=this.shadowRoot;t.lastChild&&t.removeChild(t.lastChild);var e=n,o=document.createElement("ha-card"),r=document.createElement("div"),c=document.createElement("style");c.textContent="\n            tr{\n              height: 3em;\n            }\n            table {\n              width: 100%;\n              padding: 0 16px 16px 16px;\n              border-spacing: 0px;\n              table-layout: fixed;\n              overflow-wrap: break-word;\n            }\n            tr.fileRow:hover td{\n              background-color:#ffc9471f;\n              cursor: pointer;\n            }\n            tr th{\n              text-align: left;\n              font-weight: normal;\n            }\n            ha-icon {\n              display: flex;\n              width: auto;\n            }\n            tr.fileSelected td{\n              background-color:#ffc94773 !important;\n            }\n            tr.fileClicked td{\n              background-color:#ff9800eb !important;\n              cursor: wait !important;\n            }\n          ",r.id="container",o.header=e.title,o.appendChild(r),o.appendChild(c),t.appendChild(o),this._config=e}},{key:"getCardSize",value:function(){return 4}},{key:"hass",set:function(n){var t=this._config,e=this.shadowRoot;if(n.states[t.entity]){var r=n.states[t.entity].attributes.files,c=n.states[t.entity].state;this.style.display="block";var i=t.row_limit?t.row_limit:Object.keys(r).length,a=0;if(void 0!==r&&Object.keys(r).length>0){for(var l='<table><tr style="height:0px"><th width="10%">'+(c.length>0?'<ha-icon icon="mdi:home"></ha-icon>':"")+'</th><th width="80%">'+c+'</th><th width="10%"></th></tr><tbody>',u="",f="",s=0;s<r.length&&!(a>=i);s++)c.length>0&&r[s].path.endsWith(c)?(u='<ha-icon icon="mdi:play"></ha-icon>',f="fileSelected"):(u="",f=""),l+='<tr class="fileRow '+f+'" data-path="'.concat(r[s].path,'">'),l+='<td><ha-icon icon="mdi:'.concat(r[s].icon,'"></ha-icon></td>'),l+="<td>".concat(r[s].name,"</td>"),l+="<td>"+u+"</td>",l+="</tr>",++a;"/dyski-zdalne"===c&&(l+='<tr style="height:1em">',l+='<td colspan="3" style="text-align:right;"><mwc-button id="addNewDrive" style="float:right">+ DYSK ZDALNY</mwc-button></td>',l+="</tr>"),e.lastChild.hass=n,l+="</tbody></table>",e.getElementById("container").innerHTML=l}else this.style.display="none"}else this.style.display="none";var d=e.querySelectorAll("tr.fileRow"),p=document.createElement("ha-icon");p.setAttribute("icon","mdi:progress-download"),d.forEach(function(t){t.addEventListener("click",function(){t.classList.add("fileSelected","fileClicked"),t.querySelector("td:last-child").appendChild(p),n.callService("ais_drives_service","browse_path",{path:t.getAttribute("data-path")})})});var h=e.getElementById("addNewDrive");null!==h&&h.addEventListener("click",function(){n.callApi("POST","config/config_entries/flow",{handler:"ais_drives_service"}).then(function(n){var t;t=n.flow_id,Object(o.b)(document.querySelector("home-assistant"),{continueFlowId:t,dialogClosedCallback:function(){}})})})}}])&&c(e.prototype,r),l&&c(e,l),t}();customElements.define("hui-ais-files-list-card",s)}}]);
//# sourceMappingURL=chunk.fc58e3f34e802b7aad24.js.map