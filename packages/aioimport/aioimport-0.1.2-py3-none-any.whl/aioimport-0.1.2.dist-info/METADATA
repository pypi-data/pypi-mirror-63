Metadata-Version: 2.1
Name: aioimport
Version: 0.1.2
Summary: Asynchronous module import for asyncio
Home-page: https://github.com/rndr/aioimport
License: MIT
Keywords: asyncio,import
Author: rndr
Author-email: rndr@users.noreply.github.com
Requires-Python: >=3.8,<4.0
Classifier: Development Status :: 3 - Alpha
Classifier: Framework :: AsyncIO
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Project-URL: Documentation, https://github.com/rndr/aioimport
Project-URL: Repository, https://github.com/rndr/aioimport
Description-Content-Type: text/markdown

# aioimport
Asynchronous module import for asyncio

## Getting Started

### Installing

Install from [PyPI](https://pypi.org/project/aioimport/) using:

```
pip install aioimport
```

### The problem

Some nasty modules have long running operations during import

### Naive solution

First thing that comes to mind is to postpone import by moving it into the function that need that module:

```python
async def my_work(self) -> None:
    import this  # will block until imported
```

It reduces your startup time, but it is still blocking your event loop.

### Usage

The preferred way to use `aioimport` is:
```python
import aioimport

async def my_work(self) -> None:
    await aioimport.import_module("this")  # will asynchronously import module
    import this  # will be instantaneous since `this` is already in `sys.modules`
    # and you can asynchronously reload it too:
    await aioimport.reload(this)
```

### How it works

Module import is done in new thread worker.

Be aware of the fact that GIL still exists and technically import is done concurrently rather than in parallel with your code.

## Future work

Currently after your first use of `aioimport` it's workers threads run forever waiting for new imports.

The plan is to have some form of automatic shutdown after some time passes since last import.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details

